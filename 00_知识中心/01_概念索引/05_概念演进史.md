# æ¦‚å¿µæ¼”è¿›å²

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **åˆ›å»ºæ—¥æœŸ**: 2025-10-26
> **ç»´æŠ¤å›¢é˜Ÿ**: OTLPé¡¹ç›®ç»„
> **é€‚ç”¨èŒƒå›´**: å†å²ç ”ç©¶ã€æ ‡å‡†æ¼”è¿›ã€æŠ€æœ¯å‘å±•

---

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¿½æº¯OTLPé¡¹ç›®åŠå…¶æ ¸å¿ƒæ¦‚å¿µçš„å†å²æ¼”è¿›ï¼Œå±•ç¤ºä»æ—©æœŸå®è·µåˆ°ç°ä»£æ ‡å‡†çš„å‘å±•å†ç¨‹ã€‚

### æ¶µç›–å†…å®¹

- **å¯è§‚æµ‹æ€§å†å²**: ä»æ—¥å¿—åˆ°å®Œæ•´å¯è§‚æµ‹æ€§çš„æ¼”è¿›
- **æ ‡å‡†æ¼”è¿›**: OpenTelemetryåŠç›¸å…³æ ‡å‡†çš„å‘å±•
- **æ¦‚å¿µèµ·æº**: æ ¸å¿ƒæ¦‚å¿µçš„æå‡ºå’Œæ¼”åŒ–
- **æŠ€æœ¯é‡Œç¨‹ç¢‘**: é‡è¦çš„æŠ€æœ¯çªç ´å’Œç‰ˆæœ¬è¿­ä»£

### ä½¿ç”¨ä»·å€¼

- ğŸ“š **ç†è§£èƒŒæ™¯**: ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›æ¦‚å¿µ
- ğŸ”„ **æŠŠæ¡è¶‹åŠ¿**: æŠ€æœ¯æ¼”è¿›çš„æ–¹å‘
- ğŸ¯ **é¿å…é™·é˜±**: ä»å†å²å­¦ä¹ æ•™è®­
- ğŸ’¡ **å¯å‘åˆ›æ–°**: å‘ç°æœªæ¥æœºä¼š

---

## 1. å¯è§‚æµ‹æ€§æ¼”è¿›å²

### 1.1 å²å‰æ—¶ä»£ (1970s-1990s)

#### é˜¶æ®µç‰¹å¾

```
ä¸»è¦æ‰‹æ®µ: æ—¥å¿—å’Œprintfè°ƒè¯•
ç‰¹ç‚¹:
  - ç®€å•ç›´æ¥
  - æ— ç»“æ„åŒ–
  - éš¾ä»¥åˆ†æ
  - æ— å…³è”æ€§
```

#### ä»£è¡¨æŠ€æœ¯

**Unix Syslog (1980)**:

```c
// æœ€æ—©çš„ç³»ç»Ÿæ—¥å¿—
syslog(LOG_INFO, "User %s logged in", username);

// ç‰¹ç‚¹ï¼š
// - ç®€å•æ–‡æœ¬
// - æœ¬åœ°å­˜å‚¨
// - æ— ç»“æ„
// - æ— ä¸Šä¸‹æ–‡
```

**ä¼ ç»Ÿæ—¥å¿—æ–‡ä»¶**:

```
[2024-01-01 10:00:00] INFO: Application started
[2024-01-01 10:00:01] DEBUG: Processing request
[2024-01-01 10:00:02] ERROR: Database connection failed
[2024-01-01 10:00:03] INFO: Retrying...

é—®é¢˜:
  - éš¾ä»¥è§£æ
  - æ— æ³•å…³è”
  - éš¾ä»¥æœç´¢
  - æ— æ³•é‡åŒ–
```

---

### 1.2 ç›‘æ§æ—¶ä»£ (1990s-2000s)

#### é˜¶æ®µç‰¹å¾

```
ä¸»è¦æ‰‹æ®µ: æŒ‡æ ‡ç›‘æ§
ä»£è¡¨: SNMP, Nagios, Ganglia
ç‰¹ç‚¹:
  - ç³»ç»Ÿçº§ç›‘æ§
  - é˜ˆå€¼å‘Šè­¦
  - æ—¶åºæ•°æ®
  - ä»ç¼ºä¹ä¸Šä¸‹æ–‡
```

#### é‡è¦é‡Œç¨‹ç¢‘

**SNMP (Simple Network Management Protocol, 1988)**:

```
ä½œç”¨: ç½‘ç»œè®¾å¤‡ç›‘æ§
ç‰¹ç‚¹:
  - æ ‡å‡†åŒ–
  - è½®è¯¢æ¨¡å‹
  - MIBå®šä¹‰

å±€é™:
  - ä»…é€‚ç”¨äºåŸºç¡€è®¾æ–½
  - æ— åº”ç”¨çº§å¯è§‚æµ‹æ€§
```

**Nagios (1999)**:

```
ä½œç”¨: ITåŸºç¡€è®¾æ–½ç›‘æ§
è´¡çŒ®:
  - æ’ä»¶æ¶æ„
  - å‘Šè­¦ç³»ç»Ÿ
  - å¯æ‰©å±•æ€§

å±€é™:
  - ä¸»åŠ¨æ£€æŸ¥ï¼ˆè½®è¯¢ï¼‰
  - é«˜å¼€é”€
  - æ— ç»†ç²’åº¦è¿½è¸ª
```

**RRDtool (1999)**:

```
ä½œç”¨: æ—¶åºæ•°æ®å­˜å‚¨
åˆ›æ–°:
  - å›ºå®šå¤§å°æ•°æ®åº“
  - é«˜æ•ˆèšåˆ
  - å›¾è¡¨ç”Ÿæˆ

å½±å“:
  - å¯å‘äº†åç»­æ—¶åºæ•°æ®åº“è®¾è®¡
  - Cacti, Muninç­‰åŸºäºæ­¤æ„å»º
```

---

### 1.3 åº”ç”¨æ€§èƒ½ç®¡ç†æ—¶ä»£ (2000s-2010s)

#### é˜¶æ®µç‰¹å¾

```
ä¸»è¦æ‰‹æ®µ: APMå·¥å…·
ä»£è¡¨: New Relic, AppDynamics, Dynatrace
ç‰¹ç‚¹:
  - åº”ç”¨çº§ç›‘æ§
  - äº‹åŠ¡è¿½è¸ª
  - å•†ä¸šäº§å“ä¸»å¯¼
  - å‚å•†é”å®š
```

#### å…³é”®åˆ›æ–°

**Distributed Tracingæ¦‚å¿µè¯ç”Ÿ**:

**Google Dapper (2010)**:

```
è®ºæ–‡: "Dapper, a Large-Scale Distributed Systems Tracing Infrastructure"

æ ¸å¿ƒæ¦‚å¿µ:
  - Trace: å®Œæ•´è¯·æ±‚è·¯å¾„
  - Span: å•ä¸ªæ“ä½œ
  - TraceID/SpanID: å…¨å±€å”¯ä¸€æ ‡è¯†
  - Parent-Childå…³ç³»: è°ƒç”¨å±‚æ¬¡
  - é‡‡æ ·: æ§åˆ¶å¼€é”€

å½±å“:
  - å®šä¹‰äº†åˆ†å¸ƒå¼è¿½è¸ªçš„åŸºç¡€æ¶æ„
  - å¯å‘äº†æ‰€æœ‰åç»­è¿½è¸ªç³»ç»Ÿ
```

**Dapperæ ¸å¿ƒè®¾è®¡**:

```
Treeç»“æ„:
  Trace = ä¸€æ£µSpanæ ‘

  [Frontend]
      â†“
  [AuthService]
      â†“
  [UserDB]

æ•°æ®æ¨¡å‹:
  Span {
    trace_id: int64
    span_id: int64
    parent_span_id: int64
    name: string
    start_time: timestamp
    duration: microseconds
    annotations: map<string, string>
  }

é‡‡æ ·ç­–ç•¥:
  - è‡ªé€‚åº”é‡‡æ ·ç‡
  - TraceIDå“ˆå¸Œå†³å®š
  - ä¿æŒtraceå®Œæ•´æ€§
```

---

### 1.4 å¼€æºè¿½è¸ªæ—¶ä»£ (2010s-2015)

#### Twitter Zipkin (2012)

```
åŠ¨æœº: Dapperçš„å¼€æºå®ç°
æ¶æ„:
  Collector â†’ Storage â†’ Query UI

è´¡çŒ®:
  - å¼€æºç¤¾åŒºå»ºè®¾
  - B3ä¼ æ’­æ ¼å¼
  - å¤šè¯­è¨€SDK

é‡‡ç”¨è€…:
  - Twitter (å†…éƒ¨)
  - SoundCloud
  - Yelp
  - ...æ•°ç™¾å®¶å…¬å¸
```

**B3ä¼ æ’­æ ¼å¼**:

```http
# åŸå§‹B3æ ¼å¼ï¼ˆHTTPå¤´ï¼‰
X-B3-TraceId: 80f198ee56343ba864fe8b2a57d3eff7
X-B3-SpanId: e457b5a2e4d86bd1
X-B3-ParentSpanId: 05e3ac9a4f6e3b90
X-B3-Sampled: 1

# å•ä¸€å¤´æ ¼å¼ï¼ˆåæœŸï¼‰
b3: 80f198ee56343ba864fe8b2a57d3eff7-e457b5a2e4d86bd1-1-05e3ac9a4f6e3b90
```

#### Uber Jaeger (2015)

```
åŠ¨æœº: æ›´å¥½çš„å¯æ‰©å±•æ€§å’Œæ€§èƒ½
æŠ€æœ¯åˆ›æ–°:
  - è‡ªé€‚åº”é‡‡æ ·
  - Cassandraå­˜å‚¨
  - å®æ—¶èšåˆ
  - Sparkåˆ†æ

å…¼å®¹æ€§:
  - å…¼å®¹Zipkin API
  - æ”¯æŒOpenTracing

å½±å“:
  - CNCFé¡¹ç›®
  - æˆä¸ºäº‹å®æ ‡å‡†ä¹‹ä¸€
```

---

### 1.5 æ ‡å‡†åŒ–æ—¶ä»£ (2016-2019)

#### OpenTracing (2016)

```
ç›®æ ‡: ç»Ÿä¸€è¿½è¸ªAPI
ç”±CNCFä¸»å¯¼

æ ¸å¿ƒæ¥å£:
  Tracer:
    - startSpan()
    - inject()      // Contextä¼ æ’­
    - extract()

  Span:
    - setTag()
    - log()
    - finish()

  SpanContext:
    - traceID
    - spanID
    - baggage

è´¡çŒ®:
  - å‚å•†ä¸­ç«‹API
  - æ’ä»¶åŒ–è®¾è®¡
  - å¤šè¯­è¨€ä¸€è‡´æ€§

å±€é™:
  - ä»…è¿½è¸ªï¼Œæ— æŒ‡æ ‡å’Œæ—¥å¿—
  - å®ç°ç¢ç‰‡åŒ–
```

#### OpenCensus (2018)

```
ç”±Googleå‘èµ·
ç›®æ ‡: ç»Ÿä¸€çš„æŒ‡æ ‡å’Œè¿½è¸ªåº“

ç‰¹ç‚¹:
  - åŒæ—¶æ”¯æŒMetricså’ŒTracing
  - å†…ç½®å¯¼å‡ºå™¨
  - è‡ªåŠ¨Instrumentation

æ”¯æŒ:
  - C++, Go, Java, Node.js, Python, Ruby, PHP

é—®é¢˜:
  - ä¸OpenTracingç«äº‰
  - ç¤¾åŒºåˆ†è£‚
```

---

### 1.6 OpenTelemetryæ—¶ä»£ (2019-ç°åœ¨)

#### èµ·æºï¼šåˆå¹¶ä¹‹è·¯

```
2019å¹´5æœˆ:
  OpenTracing + OpenCensus = OpenTelemetry

åŠ¨æœº:
  - æ¶ˆé™¤ç¤¾åŒºåˆ†è£‚
  - ç»Ÿä¸€æœ€ä½³å®è·µ
  - å®Œæ•´å¯è§‚æµ‹æ€§ï¼ˆTraces + Metrics + Logsï¼‰

æ”¯æŒæ–¹:
  - CNCF
  - Google
  - Microsoft
  - Uber
  - ...50+å…¬å¸
```

#### OpenTelemetryæ¼”è¿›

**Beta (2020)**:

```
âœ“ Trace API/SDKç¨³å®š
âœ“ å¤šè¯­è¨€SDKå‘å¸ƒ
âœ“ Collector Alpha
âœ“ OTLPåè®®å®šä¹‰

æ”¯æŒè¯­è¨€:
  - Java, Go, Python, JavaScript
  - .NET, Ruby, PHP, C++
```

**GA (2021-2022)**:

```
âœ“ Trace API/SDK GA
âœ“ Metrics API/SDK GA (2022)
âœ“ Collectorç¨³å®šç‰ˆ
âœ“ è‡ªåŠ¨Instrumentationæˆç†Ÿ
âœ“ è¯­ä¹‰çº¦å®šç¡®ç«‹

ç‰ˆæœ¬:
  - API: v1.0+ (stable)
  - SDK: v1.0+ (stable)
  - Collector: v0.50+ (production-ready)
```

**Current (2023-2025)**:

```
âœ“ Logs API/SDKç¨³å®š
âœ“ Profilingæ”¯æŒï¼ˆå®éªŒï¼‰
âœ“ eBPF Instrumentation
âœ“ äº‘åŸç”Ÿæ·±åº¦é›†æˆ
âœ“ AI/MLå¯è§‚æµ‹æ€§æ”¯æŒ

ç”Ÿæ€ç³»ç»Ÿ:
  - 150+ Instrumentationåº“
  - 50+ åç«¯é›†æˆ
  - æ•°åƒä¼ä¸šåº”ç”¨
```

---

## 2. æ ¸å¿ƒæ¦‚å¿µæ¼”è¿›

### 2.1 Traceæ¦‚å¿µæ¼”è¿›

```mermaid
timeline
    title Traceæ¦‚å¿µæ¼”è¿›å²
    1970s : printfè°ƒè¯•
          : æ— ç»“æ„åŒ–
    2000s : è¯·æ±‚IDå‡ºç°
          : ç®€å•å…³è”
    2010  : Google Dapper
          : Spanæ ‘ç»“æ„
          : TraceID/SpanID
    2012  : Twitter Zipkin
          : å¼€æºå®ç°
          : B3æ ¼å¼
    2016  : OpenTracing
          : æ ‡å‡†åŒ–API
    2019  : OpenTelemetry
          : ç»Ÿä¸€æ ‡å‡†
          : OTLPåè®®
    2023  : å®Œæ•´ç”Ÿæ€
          : AIå¢å¼º
          : å®æ—¶åˆ†æ
```

#### å…³é”®æ¼”è¿›ç‚¹

**ä»æ—¥å¿—åˆ°è¿½è¸ª**:

```
Phase 1: æ—¥å¿—å…³è” (2000s)
  [2024-01-01] RequestID=123 Started
  [2024-01-01] RequestID=123 DB Query
  [2024-01-01] RequestID=123 Completed

  é—®é¢˜: æ— å±‚æ¬¡ç»“æ„ï¼Œéš¾ä»¥å¯è§†åŒ–

Phase 2: ç»“æ„åŒ–è¿½è¸ª (2010s)
  Trace {
    id: 123,
    spans: [
      {id: 1, name: "HTTP Handler", parent: null},
      {id: 2, name: "DB Query", parent: 1},
      {id: 3, name: "Cache Check", parent: 1}
    ]
  }

  æ”¹è¿›: æ¸…æ™°å±‚æ¬¡ï¼Œå¯è§†åŒ–è°ƒç”¨å›¾

Phase 3: è¯­ä¹‰è¿½è¸ª (2020s)
  Trace {
    id: 123,
    spans: [...],
    resource: {service.name: "api-server"},
    semantic_conventions: "HTTP/gRPC/DB"
  }

  æ”¹è¿›: æ ‡å‡†åŒ–å±æ€§ï¼Œè·¨ç³»ç»Ÿå…¼å®¹
```

**é‡‡æ ·ç­–ç•¥æ¼”è¿›**:

```
Generation 1: å›ºå®šæ¯”ç‡
  sample_rate = 0.1  // 10%

  é—®é¢˜: å¯èƒ½ä¸¢å¤±é‡è¦trace

Generation 2: è‡ªé€‚åº”é‡‡æ ·
  if error: sample_rate = 1.0
  else if slow: sample_rate = 1.0
  else: sample_rate = 0.01

  æ”¹è¿›: æ™ºèƒ½é‡‡æ ·

Generation 3: Tail Sampling
  collect_all() â†’ analyze() â†’ decide()

  æ”¹è¿›: åŸºäºå®Œæ•´ä¿¡æ¯å†³ç­–

Generation 4: MLé©±åŠ¨é‡‡æ ·
  model.predict(trace_features) â†’ sample_decision

  æ”¹è¿›: é¢„æµ‹é‡è¦æ€§
```

---

### 2.2 Contextä¼ æ’­æ¼”è¿›

#### å†å²é˜¶æ®µ

**é˜¶æ®µ1: æ— ä¼ æ’­ (Pre-2010)**:

```
é—®é¢˜:
  - æ¯ä¸ªæœåŠ¡ç‹¬ç«‹æ—¥å¿—
  - æ— æ³•å…³è”è¯·æ±‚
  - åˆ†å¸ƒå¼ç³»ç»Ÿé»‘ç›’

ç¤ºä¾‹:
  Service A log: [10:00:01] Process request
  Service B log: [10:00:02] Query database
  â†’ æ— æ³•çŸ¥é“è¿™ä¸¤æ¡æ˜¯å¦ç›¸å…³
```

**é˜¶æ®µ2: ç®€å•RequestID (2000s)**:

```
HTTP Header:
  X-Request-ID: uuid-1234-5678

æ”¹è¿›:
  - å¯ä»¥å…³è”æ—¥å¿—
  - æ‰‹åŠ¨ä¼ æ’­

å±€é™:
  - æ— å±‚æ¬¡ç»“æ„
  - æ— æ ‡å‡†åŒ–
  - å®¹æ˜“ä¸¢å¤±
```

**é˜¶æ®µ3: B3æ ¼å¼ (2012, Zipkin)**:

```
HTTP Headers:
  X-B3-TraceId: 80f198ee56343ba864fe8b2a57d3eff7
  X-B3-SpanId: e457b5a2e4d86bd1
  X-B3-ParentSpanId: 05e3ac9a4f6e3b90
  X-B3-Sampled: 1

è´¡çŒ®:
  - æ˜ç¡®çˆ¶å­å…³ç³»
  - é‡‡æ ·ä¿¡æ¯ä¼ æ’­
  - äº‹å®æ ‡å‡†

å±€é™:
  - å¤šä¸ªHTTPå¤´
  - éW3Cæ ‡å‡†
```

**é˜¶æ®µ4: W3C Trace Context (2020)**:

```
HTTP Headers:
  traceparent: 00-4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-01
  tracestate: vendor1=data,vendor2=data

åˆ›æ–°:
  - W3Cå®˜æ–¹æ ‡å‡†
  - å•ä¸€traceparentå¤´
  - å¤šå‚å•†tracestate
  - å‘å‰å…¼å®¹

å½±å“:
  - æµè§ˆå™¨åŸç”Ÿæ”¯æŒ
  - å…¨çƒæ ‡å‡†
  - è·¨ç»„ç»‡è¿½è¸ª
```

**é˜¶æ®µ5: å¤šåè®®æ”¯æŒ (OpenTelemetry)**:

```
æ”¯æŒçš„ä¼ æ’­æ ¼å¼:
  - W3C Trace Context (æ¨è)
  - B3 (å…¼å®¹Zipkin)
  - Jaeger
  - AWS X-Ray
  - è‡ªå®šä¹‰

ç‰¹ç‚¹:
  - å¯é…ç½®
  - å¤šæ ¼å¼å…±å­˜
  - è‡ªåŠ¨è½¬æ¢
```

#### Contextä¼ æ’­æŠ€æœ¯æ¼”è¿›

```mermaid
graph LR
    A[æ— ä¼ æ’­] -->|+RequestID| B[ç®€å•ID]
    B -->|+å±‚æ¬¡ç»“æ„| C[B3æ ¼å¼]
    C -->|+æ ‡å‡†åŒ–| D[W3C TraceContext]
    D -->|+å‚å•†ä¿¡æ¯| E[TraceState]
    E -->|+è‡ªåŠ¨ä¼ æ’­| F[OpenTelemetry]

    style A fill:#ffcccc
    style B fill:#ffddcc
    style C fill:#ffffcc
    style D fill:#ccffcc
    style E fill:#ccffff
    style F fill:#ccccff
```

---

### 2.3 æ•°æ®æ¨¡å‹æ¼”è¿›

#### Spanæ•°æ®æ¨¡å‹å˜è¿

**Dapperæ¨¡å‹ (2010)**:

```
Span {
  trace_id: int64
  span_id: int64
  parent_id: int64
  name: string
  start_time: timestamp
  duration: microseconds
  annotations: map<string, string>
}

ç‰¹ç‚¹:
  - ç®€å•ç›´è§‚
  - æ ‘çŠ¶ç»“æ„
  - æ—¶é—´+æ ‡æ³¨
```

**Zipkinæ¨¡å‹ (2012)**:

```
Span {
  traceId: string
  id: string
  parentId: string
  name: string
  timestamp: microseconds
  duration: microseconds
  annotations: [
    {timestamp, value, endpoint}
  ]
  binaryAnnotations: [
    {key, value, type, endpoint}
  ]
}

æ”¹è¿›:
  - Endpointä¿¡æ¯
  - ç±»å‹åŒ–æ ‡æ³¨
  - æ›´ä¸°å¯Œçš„å…ƒæ•°æ®
```

**OpenTracingæ¨¡å‹ (2016)**:

```
Span {
  context: SpanContext {
    traceID
    spanID
    baggage
  }
  operationName: string
  startTime: timestamp
  finishTime: timestamp
  tags: map<string, any>
  logs: [{timestamp, fields}]
  references: [SpanReference]
}

åˆ›æ–°:
  - Baggageä¼ æ’­
  - ç»“æ„åŒ–æ—¥å¿—
  - Spanå¼•ç”¨ï¼ˆä¸ä»…parentï¼‰
```

**OpenTelemetryæ¨¡å‹ (2019-ç°åœ¨)**:

```
Span {
  trace_id: bytes<16>
  span_id: bytes<8>
  trace_state: string
  parent_span_id: bytes<8>
  name: string
  span_kind: enum {INTERNAL, SERVER, CLIENT, PRODUCER, CONSUMER}
  start_time_unix_nano: int64
  end_time_unix_nano: int64
  attributes: repeated KeyValue
  dropped_attributes_count: uint32
  events: repeated Event {
    time_unix_nano: int64
    name: string
    attributes: repeated KeyValue
  }
  dropped_events_count: uint32
  links: repeated Link {
    trace_id: bytes<16>
    span_id: bytes<8>
    trace_state: string
    attributes: repeated KeyValue
  }
  dropped_links_count: uint32
  status: Status {
    code: enum {UNSET, OK, ERROR}
    message: string
  }
}

Resource {
  attributes: repeated KeyValue
  dropped_attributes_count: uint32
}

InstrumentationScope {
  name: string
  version: string
  attributes: repeated KeyValue
}

å®Œæ•´æ”¹è¿›:
  - è¯­ä¹‰çº¦å®š
  - SpanKindæ˜ç¡®è§’è‰²
  - Resourceåˆ†ç¦»
  - ä¸¢å¼ƒè®¡æ•°ï¼ˆå®Œæ•´æ€§ï¼‰
  - çº³ç§’ç²¾åº¦
  - çµæ´»Links
```

---

## 3. æ ‡å‡†åŒ–å†ç¨‹

### 3.1 åè®®æ¼”è¿›

```
2012: Zipkinåè®®
  - Thrift/JSONç¼–ç 
  - HTTPä¼ è¾“
  - ç®€å•é«˜æ•ˆ

2015: Jaegeråè®®
  - Thriftç¼–ç 
  - UDP/HTTPä¼ è¾“
  - æ‰¹é‡å‘é€

2018: OpenCensus Protocol
  - Protobufç¼–ç 
  - gRPCä¼ è¾“
  - æ”¯æŒMetrics

2019-: OTLP (OpenTelemetry Protocol)
  - Protobufç¼–ç 
  - gRPC/HTTPä¼ è¾“
  - Traces + Metrics + Logsç»Ÿä¸€
  - é«˜æ•ˆå‹ç¼©
  - å‘åå…¼å®¹
```

#### OTLPæ¼”è¿›å²

```
v0.1 (2019):
  - åˆå§‹è®¾è®¡
  - Trace only

v0.5 (2020):
  - æ·»åŠ Metrics
  - ç¨³å®šTracesData

v0.9 (2021):
  - æ·»åŠ Logs
  - Resourceæ¨¡å‹ç¨³å®š

v1.0 (2022):
  - è¯­ä¹‰çº¦å®šv1
  - å®Œæ•´ç¨³å®šæ€§

v1.x (2023-):
  - æ€§èƒ½ä¼˜åŒ–
  - æ–°ç‰¹æ€§ï¼ˆProfilingç­‰ï¼‰
  - å¢å¼ºå…¼å®¹æ€§
```

### 3.2 è¯­ä¹‰çº¦å®šæ¼”è¿›

**é˜¶æ®µ1: æ— çº¦å®š (Pre-2016)**:

```
æ¯å®¶è‡ªå®šä¹‰:
  Service A: "endpoint": "/api/users"
  Service B: "url": "/api/users"
  Service C: "path": "/api/users"

é—®é¢˜: æ— æ³•ç»Ÿä¸€åˆ†æ
```

**é˜¶æ®µ2: éƒ¨åˆ†çº¦å®š (OpenTracing)**:

```
å»ºè®®çš„æ ‡ç­¾:
  span.kind: "client" | "server"
  error: true | false
  http.method: "GET"
  http.url: "https://example.com/api"

æ”¹è¿›: ä¸€å®šç¨‹åº¦ç»Ÿä¸€
å±€é™: éå¼ºåˆ¶ï¼Œä¸å®Œæ•´
```

**é˜¶æ®µ3: å…¨é¢çº¦å®š (OpenTelemetry)**:

```
è¯­ä¹‰çº¦å®šè¦†ç›–:
  - HTTP (http.*)
  - gRPC (rpc.*)
  - Database (db.*)
  - Messaging (messaging.*)
  - FaaS (faas.*)
  - ...20+é¢†åŸŸ

ç¤ºä¾‹ (HTTP):
  http.method: "GET"
  http.url: "https://api.example.com/users/123"
  http.target: "/users/123"
  http.host: "api.example.com"
  http.scheme: "https"
  http.status_code: 200
  http.user_agent: "Mozilla/5.0 ..."

ç¨³å®šæ€§:
  - Stable (ç”Ÿäº§å¯ç”¨)
  - Experimental (å¯èƒ½å˜åŒ–)
  - Deprecated (å°†ç§»é™¤)
```

---

## 4. æŠ€æœ¯é‡Œç¨‹ç¢‘

### 4.1 å…³é”®è®ºæ–‡å’Œå‘å¸ƒ

```
2010: Google Dapperè®ºæ–‡
  "Dapper, a Large-Scale Distributed Systems Tracing Infrastructure"
  å½±å“: å®šä¹‰äº†ç°ä»£åˆ†å¸ƒå¼è¿½è¸ª

2012: Zipkinå¼€æº
  Twitterå·¥ç¨‹åšå®¢å‘å¸ƒ
  å½±å“: é¦–ä¸ªä¸»æµå¼€æºå®ç°

2016: OpenTracingå‘å¸ƒ
  CNCFå­µåŒ–é¡¹ç›®
  å½±å“: APIæ ‡å‡†åŒ–

2018: OpenCensuså‘å¸ƒ
  Googleå¼€æº
  å½±å“: ç»Ÿä¸€Metricså’ŒTracing

2019: OpenTelemetryæˆç«‹
  CNCFå®˜æ–¹å®£å¸ƒ
  å½±å“: ç¤¾åŒºç»Ÿä¸€

2020: W3C Trace Contextæ ‡å‡†
  W3C Recommendation
  å½±å“: æµè§ˆå™¨å’Œå…¨çƒæ ‡å‡†

2021: OpenTelemetry Trace GA
  ç”Ÿäº§å°±ç»ª
  å½±å“: ä¼ä¸šå¤§è§„æ¨¡é‡‡ç”¨

2022: OpenTelemetry Metrics GA
  å®Œæ•´å¯è§‚æµ‹æ€§
  å½±å“: æ›¿ä»£Prometheuså®¢æˆ·ç«¯
```

### 4.2 é‡‡ç”¨é‡Œç¨‹ç¢‘

```
ä¼ä¸šé‡‡ç”¨:
  2012: Twitter (Zipkin)
  2015: Uber (Jaeger)
  2017: Lyft (Envoy + tracing)
  2019: Microsoft Azure (OpenTelemetry)
  2020: AWS X-Rayé›†æˆ
  2021: Google Cloud Operations
  2022: æ•°åƒå®¶ä¼ä¸š

äº‘æœåŠ¡å•†æ”¯æŒ:
  âœ“ AWS X-Ray
  âœ“ Azure Monitor
  âœ“ Google Cloud Trace
  âœ“ Alibaba Cloud ARMS
  âœ“ ...

å¯è§‚æµ‹æ€§å¹³å°:
  âœ“ Datadog
  âœ“ New Relic
  âœ“ Dynatrace
  âœ“ Elastic APM
  âœ“ Grafana Tempo
  âœ“ Jaeger
  âœ“ Zipkin
  âœ“ ...

åŸç”Ÿé›†æˆ:
  âœ“ Kubernetes
  âœ“ Istio
  âœ“ Envoy
  âœ“ NGINX
  âœ“ ...
```

---

## 5. æœªæ¥å±•æœ›

### 5.1 è¿›è¡Œä¸­çš„æ¼”è¿›

**Profilingé›†æˆ (2023-2025)**:

```
ç›®æ ‡: ç»Ÿä¸€Traceå’ŒProfile

å½“å‰çŠ¶æ€: Experimental

æ„¿æ™¯:
  Trace â†’ æ…¢åœ¨å“ªä¸ªSpan
  Profile â†’ Spanå†…éƒ¨æ…¢åœ¨å“ªè¡Œä»£ç 

æŠ€æœ¯:
  - eBPF profiling
  - æ— ä¾µå…¥é‡‡é›†
  - é«˜ç²¾åº¦æ—¶é—´å…³è”
```

**æ—¥å¿—ä¸è¿½è¸ªæ·±åº¦é›†æˆ**:

```
ç›®æ ‡: è‡ªåŠ¨å…³è”æ—¥å¿—å’ŒSpan

ç¤ºä¾‹:
  log.info("Processing order", {
    trace_id: current_trace_id,
    span_id: current_span_id
  });

  // è‡ªåŠ¨åœ¨Trace UIä¸­å†…åµŒæ—¥å¿—
```

**AI/MLå¯è§‚æµ‹æ€§**:

```
æŒ‘æˆ˜:
  - æ¨¡å‹è®­ç»ƒè¿½è¸ª
  - æ¨ç†å»¶è¿Ÿåˆ†æ
  - æ•°æ®è¡€ç¼˜è¿½è¸ª

OpenTelemetryæ‰©å±•:
  - AIè¯­ä¹‰çº¦å®š
  - æ¨¡å‹æŒ‡æ ‡
  - è®­ç»ƒTrace
```

**å®æ—¶åˆ†æå’Œå‘Šè­¦**:

```
æ–¹å‘:
  - æµå¼å¤„ç†
  - å®æ—¶å¼‚å¸¸æ£€æµ‹
  - è‡ªåŠ¨æ ¹å› åˆ†æ

æŠ€æœ¯:
  - Collectorå®æ—¶åˆ†æ
  - MLå¼‚å¸¸æ£€æµ‹
  - å›¾åˆ†æå¼•æ“
```

### 5.2 æœªæ¥æ–¹å‘

```mermaid
graph TD
    NOW[2025: OpenTelemetryæˆç†Ÿ] --> F1[å®Œæ•´å¯è§‚æµ‹æ€§ç»Ÿä¸€]
    NOW --> F2[AI/MLæ·±åº¦é›†æˆ]
    NOW --> F3[è‡ªåŠ¨åŒ–æ ¹å› åˆ†æ]
    NOW --> F4[æˆæœ¬ä¼˜åŒ–]

    F1 --> F1A[Traces+Metrics+Logs+Profilesç»Ÿä¸€æŸ¥è¯¢]
    F1 --> F1B[ç»Ÿä¸€å­˜å‚¨å¼•æ“]

    F2 --> F2A[AIé©±åŠ¨é‡‡æ ·]
    F2 --> F2B[æ™ºèƒ½å‘Šè­¦]
    F2 --> F2C[è‡ªåŠ¨ä¼˜åŒ–å»ºè®®]

    F3 --> F3A[è‡ªåŠ¨ä¾èµ–å‘ç°]
    F3 --> F3B[æ™ºèƒ½å…³è”åˆ†æ]
    F3 --> F3C[é¢„æµ‹æ€§è¿ç»´]

    F4 --> F4A[æ™ºèƒ½é‡‡æ ·é™æˆæœ¬]
    F4 --> F4B[è¾¹ç¼˜è®¡ç®—]
    F4 --> F4C[å¢é‡æ›´æ–°]

    style NOW fill:#90EE90
    style F1 fill:#FFD700
    style F2 fill:#87CEEB
    style F3 fill:#FFA07A
    style F4 fill:#DDA0DD
```

---

## 6. ç»éªŒæ•™è®­

### 6.1 æˆåŠŸå› ç´ 

```
âœ“ ç¤¾åŒºé©±åŠ¨
  - CNCFä¸­ç«‹æ€§
  - å¤šå‚å•†å‚ä¸
  - å¼€æ”¾æ ‡å‡†

âœ“ å‘åå…¼å®¹
  - å…¼å®¹Zipkin/Jaeger
  - æ¸è¿›å¼è¿ç§»
  - ç¨³å®šæ€§ä¿è¯

âœ“ å®Œæ•´ç”Ÿæ€
  - å¤šè¯­è¨€SDK
  - ä¸°å¯Œçš„Instrumentation
  - åç«¯å¤šæ ·æ€§

âœ“ å®ç”¨ä¸»ä¹‰
  - æ€§èƒ½ä¼˜å…ˆ
  - ç”Ÿäº§å°±ç»ª
  - æ¸è¿›å¼é‡‡ç”¨
```

### 6.2 é¿å…çš„é™·é˜±

```
âœ— è¿‡åº¦è®¾è®¡
  æ•™è®­: OpenCensus vs OpenTracingç«äº‰
  åº”å¯¹: ç®€å•å®ç”¨çš„API

âœ— å‚å•†é”å®š
  æ•™è®­: æ—©æœŸAPMå·¥å…·ä¸“æœ‰æ ¼å¼
  åº”å¯¹: å¼€æ”¾æ ‡å‡†å’Œå¤šåç«¯æ”¯æŒ

âœ— æ€§èƒ½å¿½è§†
  æ•™è®­: æ—©æœŸè¿½è¸ªå¼€é”€å¤§
  åº”å¯¹: é‡‡æ ·ã€æ‰¹å¤„ç†ã€å¼‚æ­¥å¯¼å‡º

âœ— ç¢ç‰‡åŒ–
  æ•™è®­: å¤šä¸ªç«äº‰æ ‡å‡†
  åº”å¯¹: OpenTelemetryç»Ÿä¸€
```

---

## 7. æ—¶é—´çº¿æ€»è§ˆ

```mermaid
timeline
    title å¯è§‚æµ‹æ€§å’ŒOpenTelemetryæ¼”è¿›å²
    1970s-1990s : æ—¥å¿—æ—¶ä»£
                : printf, syslog
                : æ— ç»“æ„åŒ–
    1990s-2000s : ç›‘æ§æ—¶ä»£
                : SNMP, Nagios
                : æŒ‡æ ‡å’Œå‘Šè­¦
    2000s-2010s : APMæ—¶ä»£
                : New Relic, AppDynamics
                : åº”ç”¨æ€§èƒ½ç®¡ç†
    2010 : Google Dapper
         : åˆ†å¸ƒå¼è¿½è¸ªç†è®º
    2012 : Twitter Zipkin
         : å¼€æºè¿½è¸ª
    2015 : Uber Jaeger
         : å¯æ‰©å±•è¿½è¸ª
    2016 : OpenTracing
         : APIæ ‡å‡†åŒ–
    2018 : OpenCensus
         : ç»Ÿä¸€åº“
    2019 : OpenTelemetry
         : ç¤¾åŒºåˆå¹¶
    2020 : W3C Trace Context
         : å…¨çƒæ ‡å‡†
    2021 : OTel Trace GA
         : ç”Ÿäº§å°±ç»ª
    2022 : OTel Metrics GA
         : å®Œæ•´å¯è§‚æµ‹æ€§
    2023-2025 : æˆç†Ÿå’Œåˆ›æ–°
              : AIé›†æˆ
              : Profiling
              : å¤§è§„æ¨¡é‡‡ç”¨
```

---

## ğŸ“Š æ–‡æ¡£ç»Ÿè®¡

- **å†å²é˜¶æ®µ**: 6ä¸ªä¸»è¦æ—¶ä»£
- **å…³é”®é‡Œç¨‹ç¢‘**: 20+ä¸ª
- **æ¼”è¿›å›¾è¡¨**: 3ä¸ªæ—¶é—´çº¿
- **æŠ€æœ¯å¯¹æ¯”**: 5ä¸ªæ¼”è¿›åˆ†æ
- **æœªæ¥å±•æœ›**: 4ä¸ªä¸»è¦æ–¹å‘

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- â† [åŸºç¡€æ¦‚å¿µç´¢å¼•](./01_åŸºç¡€æ¦‚å¿µ.md)
- â† [å½¢å¼åŒ–æ¦‚å¿µç´¢å¼•](./02_å½¢å¼åŒ–æ¦‚å¿µ.md)
- â† [å®ç°æ¦‚å¿µç´¢å¼•](./03_å®ç°æ¦‚å¿µ.md)
- â† [æ¦‚å¿µå…³ç³»å›¾](./04_æ¦‚å¿µå…³ç³»å›¾.md)
- â†— [é¡¹ç›®å‘å±•å†ç¨‹](../../docs/00_é¡¹ç›®æ¦‚è§ˆ/é¡¹ç›®å‘å±•å†ç¨‹.md)

---

## ğŸ“š å‚è€ƒæ–‡çŒ®

1. Sigelman et al., "Dapper, a Large-Scale Distributed Systems Tracing Infrastructure", Google Technical Report, 2010
2. OpenTelemetry Documentation, <https://opentelemetry.io>
3. W3C Trace Context Specification, <https://www.w3.org/TR/trace-context/>
4. CNCF OpenTelemetry Project History
5. Zipkin Project Documentation
6. Jaeger Project Documentation

---

**æœ€åæ›´æ–°**: 2025-10-26
**ç»´æŠ¤**: OTLPé¡¹ç›®ç»„
**ç‰ˆæœ¬**: v1.0
