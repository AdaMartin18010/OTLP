# OTLPç¼–ç¨‹æƒ¯ç”¨æ³•ä¸è®¾è®¡è§„èŒƒ

## ç›®å½•

- [OTLPç¼–ç¨‹æƒ¯ç”¨æ³•ä¸è®¾è®¡è§„èŒƒ](#otlpç¼–ç¨‹æƒ¯ç”¨æ³•ä¸è®¾è®¡è§„èŒƒ)
  - [ç›®å½•](#ç›®å½•)
  - [ğŸ“Š æ–‡æ¡£æ¦‚è§ˆ](#-æ–‡æ¡£æ¦‚è§ˆ)
  - [ğŸ¯ ç¼–ç¨‹è§„èŒƒç›®æ ‡](#-ç¼–ç¨‹è§„èŒƒç›®æ ‡)
    - [ä¸»è¦ç›®æ ‡](#ä¸»è¦ç›®æ ‡)
  - [ğŸ—ï¸ ç¼–ç¨‹æƒ¯ç”¨æ³•](#ï¸-ç¼–ç¨‹æƒ¯ç”¨æ³•)
    - [1. åŸºç¡€ç¼–ç¨‹æƒ¯ç”¨æ³•](#1-åŸºç¡€ç¼–ç¨‹æƒ¯ç”¨æ³•)
      - [å‘½åè§„èŒƒ](#å‘½åè§„èŒƒ)
      - [ä»£ç ç»„ç»‡è§„èŒƒ](#ä»£ç ç»„ç»‡è§„èŒƒ)
    - [2. é”™è¯¯å¤„ç†æƒ¯ç”¨æ³•](#2-é”™è¯¯å¤„ç†æƒ¯ç”¨æ³•)
      - [é”™è¯¯å¤„ç†æ¨¡å¼](#é”™è¯¯å¤„ç†æ¨¡å¼)
    - [3. å¹¶å‘ç¼–ç¨‹æƒ¯ç”¨æ³•](#3-å¹¶å‘ç¼–ç¨‹æƒ¯ç”¨æ³•)
      - [å¹¶å‘å®‰å…¨æ¨¡å¼](#å¹¶å‘å®‰å…¨æ¨¡å¼)
    - [4. æ€§èƒ½ä¼˜åŒ–æƒ¯ç”¨æ³•](#4-æ€§èƒ½ä¼˜åŒ–æƒ¯ç”¨æ³•)
      - [å†…å­˜ä¼˜åŒ–æ¨¡å¼](#å†…å­˜ä¼˜åŒ–æ¨¡å¼)
  - [ğŸ¨ è®¾è®¡æ¨¡å¼åº”ç”¨](#-è®¾è®¡æ¨¡å¼åº”ç”¨)
    - [1. åˆ›å»ºå‹æ¨¡å¼](#1-åˆ›å»ºå‹æ¨¡å¼)
      - [å·¥å‚æ¨¡å¼](#å·¥å‚æ¨¡å¼)
      - [å»ºé€ è€…æ¨¡å¼](#å»ºé€ è€…æ¨¡å¼)
    - [2. ç»“æ„å‹æ¨¡å¼](#2-ç»“æ„å‹æ¨¡å¼)
      - [é€‚é…å™¨æ¨¡å¼](#é€‚é…å™¨æ¨¡å¼)
    - [3. è¡Œä¸ºå‹æ¨¡å¼](#3-è¡Œä¸ºå‹æ¨¡å¼)
      - [è§‚å¯Ÿè€…æ¨¡å¼](#è§‚å¯Ÿè€…æ¨¡å¼)
  - [ğŸ“‹ è®¾è®¡è§„èŒƒ](#-è®¾è®¡è§„èŒƒ)
    - [1. æ¶æ„è®¾è®¡è§„èŒƒ](#1-æ¶æ„è®¾è®¡è§„èŒƒ)
      - [åˆ†å±‚æ¶æ„è§„èŒƒ](#åˆ†å±‚æ¶æ„è§„èŒƒ)
      - [æ¨¡å—è®¾è®¡è§„èŒƒ](#æ¨¡å—è®¾è®¡è§„èŒƒ)
    - [2. æ¥å£è®¾è®¡è§„èŒƒ](#2-æ¥å£è®¾è®¡è§„èŒƒ)
      - [æ¥å£è®¾è®¡åŸåˆ™](#æ¥å£è®¾è®¡åŸåˆ™)
      - [æ¥å£è®¾è®¡ç¤ºä¾‹](#æ¥å£è®¾è®¡ç¤ºä¾‹)
    - [3. æ•°æ®è®¾è®¡è§„èŒƒ](#3-æ•°æ®è®¾è®¡è§„èŒƒ)
      - [æ•°æ®ç»“æ„è®¾è®¡](#æ•°æ®ç»“æ„è®¾è®¡)
  - [ğŸ¯ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
    - [1. æ€§èƒ½æœ€ä½³å®è·µ](#1-æ€§èƒ½æœ€ä½³å®è·µ)
      - [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
    - [2. å®‰å…¨æœ€ä½³å®è·µ](#2-å®‰å…¨æœ€ä½³å®è·µ)
      - [å®‰å…¨è®¾è®¡åŸåˆ™](#å®‰å…¨è®¾è®¡åŸåˆ™)
    - [3. æµ‹è¯•æœ€ä½³å®è·µ](#3-æµ‹è¯•æœ€ä½³å®è·µ)
      - [æµ‹è¯•ç­–ç•¥](#æµ‹è¯•ç­–ç•¥)
  - [ğŸ“š æ€»ç»“](#-æ€»ç»“)

## ğŸ“Š æ–‡æ¡£æ¦‚è§ˆ

**åˆ›å»ºæ—¶é—´**: 2025å¹´10æœˆ6æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**ç»´æŠ¤è€…**: OTLP ç³»ç»Ÿåˆ†æå›¢é˜Ÿ  
**çŠ¶æ€**: ç¼–ç¨‹è§„èŒƒåˆ¶å®šå®Œæˆ  
**é€‚ç”¨èŒƒå›´**: OTLPç¼–ç¨‹è§„èŒƒä¸æœ€ä½³å®è·µ

## ğŸ¯ ç¼–ç¨‹è§„èŒƒç›®æ ‡

### ä¸»è¦ç›®æ ‡

1. **ç¼–ç¨‹æƒ¯ç”¨æ³•**: å»ºç«‹OTLPç¼–ç¨‹çš„æ ‡å‡†æƒ¯ç”¨æ³•
2. **è®¾è®¡è§„èŒƒ**: åˆ¶å®šOTLPç³»ç»Ÿè®¾è®¡è§„èŒƒ
3. **è¯­ä¹‰å®šä¹‰**: å®šä¹‰OTLPè¯­ä¹‰æ ‡å‡†å’Œçº¦æŸ
4. **ä»£ç è´¨é‡**: ç¡®ä¿ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§
5. **å›¢é˜Ÿåä½œ**: ä¿ƒè¿›å›¢é˜Ÿåä½œå’ŒçŸ¥è¯†å…±äº«

## ğŸ—ï¸ ç¼–ç¨‹æƒ¯ç”¨æ³•

### 1. åŸºç¡€ç¼–ç¨‹æƒ¯ç”¨æ³•

#### å‘½åè§„èŒƒ

```text
å‘½åè§„èŒƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»å‹å‘½å (Type Naming)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ç±»å: PascalCase                  â”‚
â”‚   UserService, TraceCollector       â”‚
â”‚ - æ¥å£å: I + PascalCase            â”‚
â”‚   ITelemetryExporter, ISpanBuilder  â”‚
â”‚ - æšä¸¾å: PascalCase                â”‚
â”‚   SpanKind, MetricType              â”‚
â”‚ - æ³›å‹å: å•ä¸ªå¤§å†™å­—æ¯              â”‚
â”‚   T, K, V, R                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–¹æ³•å‘½å (Method Naming)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ–¹æ³•å: camelCase                 â”‚
â”‚   createSpan, processTelemetry      â”‚
â”‚ - å¸ƒå°”æ–¹æ³•: is/has/canå‰ç¼€          â”‚
â”‚   isValid, hasAttributes, canExport â”‚
â”‚ - è·å–æ–¹æ³•: getå‰ç¼€                 â”‚
â”‚   getTraceId, getSpanId             â”‚
â”‚ - è®¾ç½®æ–¹æ³•: setå‰ç¼€                 â”‚
â”‚   setAttribute, setOperationName    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¸¸é‡å‘½å (Constant Naming)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å¸¸é‡å: UPPER_SNAKE_CASE          â”‚
â”‚   MAX_SPAN_ATTRIBUTES, DEFAULT_PORT â”‚
â”‚ - æšä¸¾å€¼: UPPER_SNAKE_CASE          â”‚
â”‚   SPAN_KIND_SERVER, METRIC_TYPE_COUNTER â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä»£ç ç»„ç»‡è§„èŒƒ

```text
ä»£ç ç»„ç»‡è§„èŒƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶ç»“æ„ (File Structure)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. æ–‡ä»¶å¤´æ³¨é‡Š                       â”‚
â”‚ 2. å¯¼å…¥å£°æ˜                         â”‚
â”‚ 3. å¸¸é‡å®šä¹‰                         â”‚
â”‚ 4. ç±»å‹å®šä¹‰                         â”‚
â”‚ 5. æ¥å£å®šä¹‰                         â”‚
â”‚ 6. ç±»å®šä¹‰                           â”‚
â”‚ 7. å‡½æ•°å®šä¹‰                         â”‚
â”‚ 8. æµ‹è¯•ä»£ç                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»ç»“æ„ (Class Structure)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. é™æ€å¸¸é‡                         â”‚
â”‚ 2. é™æ€æ–¹æ³•                         â”‚
â”‚ 3. å®ä¾‹å˜é‡                         â”‚
â”‚ 4. æ„é€ å‡½æ•°                         â”‚
â”‚ 5. å…¬å…±æ–¹æ³•                         â”‚
â”‚ 6. å—ä¿æŠ¤æ–¹æ³•                       â”‚
â”‚ 7. ç§æœ‰æ–¹æ³•                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é”™è¯¯å¤„ç†æƒ¯ç”¨æ³•

#### é”™è¯¯å¤„ç†æ¨¡å¼

```rust
// Rusté”™è¯¯å¤„ç†ç¤ºä¾‹
use thiserror::Error;

#[derive(Error, Debug)]
pub enum TelemetryError {
    #[error("Invalid trace ID: {0}")]
    InvalidTraceId(String),
    
    #[error("Invalid span ID: {0}")]
    InvalidSpanId(String),
    
    #[error("Missing required attribute: {0}")]
    MissingAttribute(String),
    
    #[error("Export failed: {0}")]
    ExportFailed(String),
    
    #[error("Network error: {0}")]
    NetworkError(#[from] std::io::Error),
    
    #[error("Serialization error: {0}")]
    SerializationError(#[from] serde_json::Error),
}

pub type Result<T> = std::result::Result<T, TelemetryError>;

// é”™è¯¯å¤„ç†æƒ¯ç”¨æ³•
pub fn create_span(
    trace_id: String,
    span_id: String,
    operation_name: String,
) -> Result<Span> {
    // éªŒè¯è¾“å…¥
    if trace_id.is_empty() {
        return Err(TelemetryError::InvalidTraceId(trace_id));
    }
    
    if span_id.is_empty() {
        return Err(TelemetryError::InvalidSpanId(span_id));
    }
    
    if operation_name.is_empty() {
        return Err(TelemetryError::MissingAttribute("operation_name".to_string()));
    }
    
    // åˆ›å»ºSpan
    Ok(Span {
        trace_id,
        span_id,
        operation_name,
        start_time: SystemTime::now(),
        end_time: None,
        attributes: HashMap::new(),
        events: Vec::new(),
        links: Vec::new(),
    })
}

// é”™è¯¯ä¼ æ’­æƒ¯ç”¨æ³•
pub fn process_telemetry_data(data: &[u8]) -> Result<ProcessedData> {
    let telemetry: TelemetryData = serde_json::from_slice(data)
        .map_err(|e| TelemetryError::SerializationError(e))?;
    
    let processed = process_data(telemetry)?;
    Ok(processed)
}

// é”™è¯¯æ¢å¤æƒ¯ç”¨æ³•
pub fn export_with_retry(
    data: &TelemetryData,
    max_retries: usize,
) -> Result<()> {
    let mut last_error = None;
    
    for attempt in 0..max_retries {
        match export_data(data) {
            Ok(()) => return Ok(()),
            Err(e) => {
                last_error = Some(e);
                if attempt < max_retries - 1 {
                    std::thread::sleep(Duration::from_millis(100 * (attempt + 1) as u64));
                }
            }
        }
    }
    
    Err(last_error.unwrap())
}
```

### 3. å¹¶å‘ç¼–ç¨‹æƒ¯ç”¨æ³•

#### å¹¶å‘å®‰å…¨æ¨¡å¼

```go
// Goå¹¶å‘å®‰å…¨ç¤ºä¾‹
package telemetry

import (
    "context"
    "sync"
    "time"
)

type SafeTelemetryCollector struct {
    mu        sync.RWMutex
    spans     map[string]*Span
    metrics   map[string]*Metric
    exporters []Exporter
}

func NewSafeTelemetryCollector() *SafeTelemetryCollector {
    return &SafeTelemetryCollector{
        spans:     make(map[string]*Span),
        metrics:   make(map[string]*Metric),
        exporters: make([]Exporter, 0),
    }
}

// å¹¶å‘å®‰å…¨çš„Spanæ·»åŠ 
func (c *SafeTelemetryCollector) AddSpan(span *Span) {
    c.mu.Lock()
    defer c.mu.Unlock()
    
    c.spans[span.ID] = span
}

// å¹¶å‘å®‰å…¨çš„Spanè·å–
func (c *SafeTelemetryCollector) GetSpan(id string) (*Span, bool) {
    c.mu.RLock()
    defer c.mu.RUnlock()
    
    span, exists := c.spans[id]
    return span, exists
}

// å¹¶å‘å®‰å…¨çš„æ‰¹é‡æ“ä½œ
func (c *SafeTelemetryCollector) AddSpans(spans []*Span) {
    c.mu.Lock()
    defer c.mu.Unlock()
    
    for _, span := range spans {
        c.spans[span.ID] = span
    }
}

// å¹¶å‘å®‰å…¨çš„å¯¼å‡ºæ“ä½œ
func (c *SafeTelemetryCollector) ExportAll(ctx context.Context) error {
    c.mu.RLock()
    spans := make([]*Span, 0, len(c.spans))
    for _, span := range c.spans {
        spans = append(spans, span)
    }
    c.mu.RUnlock()
    
    // å¹¶å‘å¯¼å‡º
    var wg sync.WaitGroup
    errChan := make(chan error, len(c.exporters))
    
    for _, exporter := range c.exporters {
        wg.Add(1)
        go func(exp Exporter) {
            defer wg.Done()
            if err := exp.Export(ctx, spans); err != nil {
                errChan <- err
            }
        }(exporter)
    }
    
    wg.Wait()
    close(errChan)
    
    // æ£€æŸ¥é”™è¯¯
    for err := range errChan {
        if err != nil {
            return err
        }
    }
    
    return nil
}

// å¹¶å‘å®‰å…¨çš„æ¸…ç†æ“ä½œ
func (c *SafeTelemetryCollector) Cleanup(olderThan time.Time) {
    c.mu.Lock()
    defer c.mu.Unlock()
    
    for id, span := range c.spans {
        if span.StartTime.Before(olderThan) {
            delete(c.spans, id)
        }
    }
}
```

### 4. æ€§èƒ½ä¼˜åŒ–æƒ¯ç”¨æ³•

#### å†…å­˜ä¼˜åŒ–æ¨¡å¼

```java
// Javaå†…å­˜ä¼˜åŒ–ç¤ºä¾‹
public class OptimizedTelemetryProcessor {
    // å¯¹è±¡æ± æ¨¡å¼
    private final ObjectPool<Span> spanPool;
    private final ObjectPool<Metric> metricPool;
    
    // ç¼“å­˜æ¨¡å¼
    private final Cache<String, ProcessedData> processedDataCache;
    
    // æ‰¹é‡å¤„ç†æ¨¡å¼
    private final List<TelemetryData> batchBuffer;
    private final int batchSize;
    
    public OptimizedTelemetryProcessor(int batchSize) {
        this.spanPool = new GenericObjectPool<>(new SpanFactory());
        this.metricPool = new GenericObjectPool<>(new MetricFactory());
        this.processedDataCache = Caffeine.newBuilder()
            .maximumSize(10000)
            .expireAfterWrite(Duration.ofMinutes(10))
            .build();
        this.batchBuffer = new ArrayList<>(batchSize);
        this.batchSize = batchSize;
    }
    
    // å¯¹è±¡é‡ç”¨æ¨¡å¼
    public void processSpan(SpanData spanData) {
        Span span = null;
        try {
            span = spanPool.borrowObject();
            span.initialize(spanData);
            
            // å¤„ç†Span
            ProcessedSpan processed = processSpanInternal(span);
            
            // ç¼“å­˜ç»“æœ
            processedDataCache.put(span.getId(), processed);
            
        } catch (Exception e) {
            // é”™è¯¯å¤„ç†
            logger.error("Failed to process span", e);
        } finally {
            if (span != null) {
                span.reset();
                spanPool.returnObject(span);
            }
        }
    }
    
    // æ‰¹é‡å¤„ç†æ¨¡å¼
    public void addToBatch(TelemetryData data) {
        synchronized (batchBuffer) {
            batchBuffer.add(data);
            
            if (batchBuffer.size() >= batchSize) {
                processBatch();
            }
        }
    }
    
    private void processBatch() {
        List<TelemetryData> currentBatch;
        synchronized (batchBuffer) {
            currentBatch = new ArrayList<>(batchBuffer);
            batchBuffer.clear();
        }
        
        // å¹¶è¡Œå¤„ç†æ‰¹æ¬¡
        currentBatch.parallelStream()
            .forEach(this::processData);
    }
    
    // æ‡’åŠ è½½æ¨¡å¼
    private ProcessedData processData(TelemetryData data) {
        String cacheKey = data.getId();
        
        return processedDataCache.get(cacheKey, key -> {
            // å®é™…å¤„ç†é€»è¾‘
            return performExpensiveProcessing(data);
        });
    }
    
    // å†…å­˜æ˜ å°„æ¨¡å¼
    public void exportToFile(String filename, List<TelemetryData> data) {
        try (FileChannel channel = FileChannel.open(
                Paths.get(filename), 
                StandardOpenOption.CREATE, 
                StandardOpenOption.WRITE)) {
            
            MappedByteBuffer buffer = channel.map(
                FileChannel.MapMode.READ_WRITE, 
                0, 
                calculateSize(data)
            );
            
            // ç›´æ¥å†™å…¥å†…å­˜æ˜ å°„æ–‡ä»¶
            for (TelemetryData item : data) {
                writeToBuffer(buffer, item);
            }
            
            buffer.force(); // å¼ºåˆ¶å†™å…¥ç£ç›˜
            
        } catch (IOException e) {
            logger.error("Failed to export to file", e);
        }
    }
}
```

## ğŸ¨ è®¾è®¡æ¨¡å¼åº”ç”¨

### 1. åˆ›å»ºå‹æ¨¡å¼

#### å·¥å‚æ¨¡å¼

```typescript
// TypeScriptå·¥å‚æ¨¡å¼ç¤ºä¾‹
interface TelemetryDataFactory {
    createSpan(data: SpanData): Span;
    createMetric(data: MetricData): Metric;
    createLog(data: LogData): Log;
}

class OTLPTelemetryDataFactory implements TelemetryDataFactory {
    private readonly config: TelemetryConfig;
    
    constructor(config: TelemetryConfig) {
        this.config = config;
    }
    
    createSpan(data: SpanData): Span {
        return new Span({
            traceId: data.traceId,
            spanId: data.spanId,
            operationName: data.operationName,
            startTime: data.startTime,
            attributes: this.enrichAttributes(data.attributes),
            kind: this.determineSpanKind(data),
        });
    }
    
    createMetric(data: MetricData): Metric {
        return new Metric({
            name: data.name,
            value: data.value,
            timestamp: data.timestamp,
            labels: this.enrichLabels(data.labels),
            type: this.determineMetricType(data),
        });
    }
    
    createLog(data: LogData): Log {
        return new Log({
            message: data.message,
            level: data.level,
            timestamp: data.timestamp,
            attributes: this.enrichAttributes(data.attributes),
            traceId: data.traceId,
            spanId: data.spanId,
        });
    }
    
    private enrichAttributes(attributes: Record<string, any>): Record<string, any> {
        return {
            ...attributes,
            'service.name': this.config.serviceName,
            'service.version': this.config.serviceVersion,
            'deployment.environment': this.config.environment,
        };
    }
    
    private determineSpanKind(data: SpanData): SpanKind {
        // æ ¹æ®æ•°æ®ç‰¹å¾ç¡®å®šSpanç±»å‹
        if (data.isServer) return SpanKind.SERVER;
        if (data.isClient) return SpanKind.CLIENT;
        if (data.isProducer) return SpanKind.PRODUCER;
        if (data.isConsumer) return SpanKind.CONSUMER;
        return SpanKind.INTERNAL;
    }
    
    private determineMetricType(data: MetricData): MetricType {
        // æ ¹æ®æ•°æ®ç‰¹å¾ç¡®å®šMetricç±»å‹
        if (data.isCounter) return MetricType.COUNTER;
        if (data.isGauge) return MetricType.GAUGE;
        if (data.isHistogram) return MetricType.HISTOGRAM;
        return MetricType.UNKNOWN;
    }
}
```

#### å»ºé€ è€…æ¨¡å¼

```python
# Pythonå»ºé€ è€…æ¨¡å¼ç¤ºä¾‹
from typing import Optional, Dict, Any, List
from dataclasses import dataclass
from datetime import datetime

@dataclass
class SpanBuilder:
    trace_id: Optional[str] = None
    span_id: Optional[str] = None
    parent_span_id: Optional[str] = None
    operation_name: Optional[str] = None
    kind: Optional[str] = None
    start_time: Optional[datetime] = None
    end_time: Optional[datetime] = None
    attributes: Optional[Dict[str, Any]] = None
    events: Optional[List[Event]] = None
    links: Optional[List[Link]] = None
    
    def with_trace_id(self, trace_id: str) -> 'SpanBuilder':
        self.trace_id = trace_id
        return self
    
    def with_span_id(self, span_id: str) -> 'SpanBuilder':
        self.span_id = span_id
        return self
    
    def with_parent_span_id(self, parent_span_id: str) -> 'SpanBuilder':
        self.parent_span_id = parent_span_id
        return self
    
    def with_operation_name(self, operation_name: str) -> 'SpanBuilder':
        self.operation_name = operation_name
        return self
    
    def with_kind(self, kind: str) -> 'SpanBuilder':
        self.kind = kind
        return self
    
    def with_start_time(self, start_time: datetime) -> 'SpanBuilder':
        self.start_time = start_time
        return self
    
    def with_end_time(self, end_time: datetime) -> 'SpanBuilder':
        self.end_time = end_time
        return self
    
    def with_attribute(self, key: str, value: Any) -> 'SpanBuilder':
        if self.attributes is None:
            self.attributes = {}
        self.attributes[key] = value
        return self
    
    def with_attributes(self, attributes: Dict[str, Any]) -> 'SpanBuilder':
        if self.attributes is None:
            self.attributes = {}
        self.attributes.update(attributes)
        return self
    
    def with_event(self, event: Event) -> 'SpanBuilder':
        if self.events is None:
            self.events = []
        self.events.append(event)
        return self
    
    def with_link(self, link: Link) -> 'SpanBuilder':
        if self.links is None:
            self.links = []
        self.links.append(link)
        return self
    
    def build(self) -> 'Span':
        if not self.trace_id:
            raise ValueError("Trace ID is required")
        if not self.span_id:
            raise ValueError("Span ID is required")
        if not self.operation_name:
            raise ValueError("Operation name is required")
        
        return Span(
            trace_id=self.trace_id,
            span_id=self.span_id,
            parent_span_id=self.parent_span_id,
            operation_name=self.operation_name,
            kind=self.kind or 'INTERNAL',
            start_time=self.start_time or datetime.now(),
            end_time=self.end_time,
            attributes=self.attributes or {},
            events=self.events or [],
            links=self.links or []
        )

# ä½¿ç”¨ç¤ºä¾‹
span = (SpanBuilder()
    .with_trace_id("trace-123")
    .with_span_id("span-456")
    .with_operation_name("user-authentication")
    .with_kind("SERVER")
    .with_attribute("user.id", "user-789")
    .with_attribute("http.method", "POST")
    .with_attribute("http.url", "/api/auth")
    .build())
```

### 2. ç»“æ„å‹æ¨¡å¼

#### é€‚é…å™¨æ¨¡å¼

```csharp
// C#é€‚é…å™¨æ¨¡å¼ç¤ºä¾‹
public interface ITelemetryExporter
{
    Task ExportAsync(IEnumerable<TelemetryData> data, CancellationToken cancellationToken);
}

public class JaegerExporter : ITelemetryExporter
{
    private readonly JaegerClient _client;
    
    public JaegerExporter(JaegerClient client)
    {
        _client = client;
    }
    
    public async Task ExportAsync(IEnumerable<TelemetryData> data, CancellationToken cancellationToken)
    {
        var jaegerSpans = data.OfType<Span>().Select(ConvertToJaegerSpan);
        await _client.SendSpansAsync(jaegerSpans, cancellationToken);
    }
    
    private JaegerSpan ConvertToJaegerSpan(Span span)
    {
        return new JaegerSpan
        {
            TraceId = span.TraceId,
            SpanId = span.SpanId,
            OperationName = span.OperationName,
            StartTime = span.StartTime,
            Duration = span.Duration,
            Tags = span.Attributes.ToDictionary(kvp => kvp.Key, kvp => kvp.Value),
            Logs = span.Events.Select(ConvertToJaegerLog).ToList()
        };
    }
    
    private JaegerLog ConvertToJaegerLog(Event evt)
    {
        return new JaegerLog
        {
            Timestamp = evt.Timestamp,
            Fields = evt.Attributes.ToDictionary(kvp => kvp.Key, kvp => kvp.Value)
        };
    }
}

public class PrometheusExporter : ITelemetryExporter
{
    private readonly PrometheusClient _client;
    
    public PrometheusExporter(PrometheusClient client)
    {
        _client = client;
    }
    
    public async Task ExportAsync(IEnumerable<TelemetryData> data, CancellationToken cancellationToken)
    {
        var metrics = data.OfType<Metric>().Select(ConvertToPrometheusMetric);
        await _client.PushMetricsAsync(metrics, cancellationToken);
    }
    
    private PrometheusMetric ConvertToPrometheusMetric(Metric metric)
    {
        return new PrometheusMetric
        {
            Name = metric.Name,
            Value = metric.Value,
            Labels = metric.Labels,
            Timestamp = metric.Timestamp
        };
    }
}

// é€‚é…å™¨æ¨¡å¼åº”ç”¨
public class TelemetryExporterAdapter : ITelemetryExporter
{
    private readonly ITelemetryExporter _primaryExporter;
    private readonly ITelemetryExporter _fallbackExporter;
    
    public TelemetryExporterAdapter(ITelemetryExporter primaryExporter, ITelemetryExporter fallbackExporter)
    {
        _primaryExporter = primaryExporter;
        _fallbackExporter = fallbackExporter;
    }
    
    public async Task ExportAsync(IEnumerable<TelemetryData> data, CancellationToken cancellationToken)
    {
        try
        {
            await _primaryExporter.ExportAsync(data, cancellationToken);
        }
        catch (Exception ex)
        {
            // è®°å½•é”™è¯¯å¹¶å°è¯•å¤‡ç”¨å¯¼å‡ºå™¨
            Console.WriteLine($"Primary exporter failed: {ex.Message}");
            await _fallbackExporter.ExportAsync(data, cancellationToken);
        }
    }
}
```

### 3. è¡Œä¸ºå‹æ¨¡å¼

#### è§‚å¯Ÿè€…æ¨¡å¼

```javascript
// JavaScriptè§‚å¯Ÿè€…æ¨¡å¼ç¤ºä¾‹
class TelemetrySubject {
    constructor() {
        this.observers = [];
    }
    
    attach(observer) {
        this.observers.push(observer);
    }
    
    detach(observer) {
        const index = this.observers.indexOf(observer);
        if (index > -1) {
            this.observers.splice(index, 1);
        }
    }
    
    notify(data) {
        this.observers.forEach(observer => {
            try {
                observer.update(data);
            } catch (error) {
                console.error('Observer error:', error);
            }
        });
    }
}

class TelemetryCollector extends TelemetrySubject {
    constructor() {
        super();
        this.data = [];
    }
    
    collect(data) {
        this.data.push(data);
        this.notify(data);
    }
    
    getData() {
        return [...this.data];
    }
    
    clear() {
        this.data = [];
    }
}

class SpanProcessor {
    update(data) {
        if (data.type === 'span') {
            this.processSpan(data);
        }
    }
    
    processSpan(span) {
        console.log(`Processing span: ${span.operationName}`);
        // å¤„ç†Spané€»è¾‘
    }
}

class MetricProcessor {
    update(data) {
        if (data.type === 'metric') {
            this.processMetric(data);
        }
    }
    
    processMetric(metric) {
        console.log(`Processing metric: ${metric.name}`);
        // å¤„ç†Metricé€»è¾‘
    }
}

class LogProcessor {
    update(data) {
        if (data.type === 'log') {
            this.processLog(data);
        }
    }
    
    processLog(log) {
        console.log(`Processing log: ${log.message}`);
        // å¤„ç†Logé€»è¾‘
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const collector = new TelemetryCollector();
const spanProcessor = new SpanProcessor();
const metricProcessor = new MetricProcessor();
const logProcessor = new LogProcessor();

collector.attach(spanProcessor);
collector.attach(metricProcessor);
collector.attach(logProcessor);

// æ”¶é›†æ•°æ®
collector.collect({
    type: 'span',
    operationName: 'user-authentication',
    traceId: 'trace-123',
    spanId: 'span-456'
});

collector.collect({
    type: 'metric',
    name: 'cpu_usage',
    value: 85.5,
    timestamp: Date.now()
});

collector.collect({
    type: 'log',
    message: 'User login successful',
    level: 'INFO',
    timestamp: Date.now()
});
```

## ğŸ“‹ è®¾è®¡è§„èŒƒ

### 1. æ¶æ„è®¾è®¡è§„èŒƒ

#### åˆ†å±‚æ¶æ„è§„èŒƒ

```text
åˆ†å±‚æ¶æ„è§„èŒƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¡¨ç¤ºå±‚ (Presentation Layer)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - APIæ¥å£å®šä¹‰                       â”‚
â”‚ - æ•°æ®æ ¼å¼è½¬æ¢                       â”‚
â”‚ - è¯·æ±‚éªŒè¯                          â”‚
â”‚ - å“åº”æ ¼å¼åŒ–                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸šåŠ¡å±‚ (Business Layer)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ä¸šåŠ¡é€»è¾‘å®ç°                       â”‚
â”‚ - æ•°æ®å¤„ç†è§„åˆ™                       â”‚
â”‚ - ä¸šåŠ¡éªŒè¯                          â”‚
â”‚ - ä¸šåŠ¡æµç¨‹æ§åˆ¶                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®å±‚ (Data Layer)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ•°æ®è®¿é—®æ¥å£                       â”‚
â”‚ - æ•°æ®æŒä¹…åŒ–                        â”‚
â”‚ - æ•°æ®æŸ¥è¯¢                          â”‚
â”‚ - æ•°æ®ç¼“å­˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å¤–éƒ¨æœåŠ¡é›†æˆ                       â”‚
â”‚ - æ¶ˆæ¯é˜Ÿåˆ—                          â”‚
â”‚ - é…ç½®ç®¡ç†                          â”‚
â”‚ - ç›‘æ§æ—¥å¿—                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¨¡å—è®¾è®¡è§„èŒƒ

```text
æ¨¡å—è®¾è®¡è§„èŒƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½             â”‚
â”‚ - æ¨¡å—å†…èšåº¦é«˜                      â”‚
â”‚ - æ¨¡å—è€¦åˆåº¦ä½                      â”‚
â”‚ - æ˜“äºæµ‹è¯•å’Œç»´æŠ¤                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¼€é—­åŸåˆ™ (Open/Closed Principle)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å¯¹æ‰©å±•å¼€æ”¾                        â”‚
â”‚ - å¯¹ä¿®æ”¹å°é—­                        â”‚
â”‚ - é€šè¿‡æ¥å£æ‰©å±•åŠŸèƒ½                  â”‚
â”‚ - é€šè¿‡ç»§æ‰¿æ‰©å±•è¡Œä¸º                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¾èµ–å€’ç½®åŸåˆ™ (Dependency Inversion) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ä¾èµ–æŠ½è±¡è€Œä¸æ˜¯å…·ä½“å®ç°             â”‚
â”‚ - é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—             â”‚
â”‚ - é€šè¿‡ä¾èµ–æ³¨å…¥ç®¡ç†ä¾èµ–              â”‚
â”‚ - æé«˜ä»£ç çš„å¯æµ‹è¯•æ€§                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ¥å£è®¾è®¡è§„èŒƒ

#### æ¥å£è®¾è®¡åŸåˆ™

```text
æ¥å£è®¾è®¡åŸåˆ™ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¥å£éš”ç¦»åŸåˆ™ (Interface Segregation) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ¥å£èŒè´£å•ä¸€                      â”‚
â”‚ - é¿å…è‡ƒè‚¿æ¥å£                      â”‚
â”‚ - å®¢æˆ·ç«¯åªä¾èµ–éœ€è¦çš„æ¥å£            â”‚
â”‚ - æé«˜æ¥å£çš„å¯ç”¨æ€§                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡Œæ°æ›¿æ¢åŸåˆ™ (Liskov Substitution)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»                  â”‚
â”‚ - ä¿æŒæ¥å£å¥‘çº¦                      â”‚
â”‚ - ä¸æ”¹å˜é¢„æœŸè¡Œä¸º                    â”‚
â”‚ - ç¡®ä¿å¤šæ€æ€§æ­£ç¡®æ€§                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¥å£è®¾è®¡ç¤ºä¾‹

```typescript
// TypeScriptæ¥å£è®¾è®¡ç¤ºä¾‹
interface TelemetryData {
    readonly id: string;
    readonly timestamp: number;
    readonly type: TelemetryType;
}

interface Span extends TelemetryData {
    readonly traceId: string;
    readonly spanId: string;
    readonly parentSpanId?: string;
    readonly operationName: string;
    readonly kind: SpanKind;
    readonly startTime: number;
    readonly endTime?: number;
    readonly attributes: ReadonlyMap<string, AttributeValue>;
    readonly events: readonly Event[];
    readonly links: readonly Link[];
}

interface Metric extends TelemetryData {
    readonly name: string;
    readonly value: number;
    readonly labels: ReadonlyMap<string, string>;
    readonly type: MetricType;
}

interface Log extends TelemetryData {
    readonly message: string;
    readonly level: LogLevel;
    readonly attributes: ReadonlyMap<string, AttributeValue>;
    readonly traceId?: string;
    readonly spanId?: string;
}

interface TelemetryExporter {
    export(data: TelemetryData[]): Promise<void>;
    shutdown(): Promise<void>;
}

interface TelemetryProcessor {
    process(data: TelemetryData): Promise<TelemetryData>;
    canProcess(data: TelemetryData): boolean;
}

interface TelemetryCollector {
    collect(data: TelemetryData): void;
    export(): Promise<void>;
    shutdown(): Promise<void>;
}
```

### 3. æ•°æ®è®¾è®¡è§„èŒƒ

#### æ•°æ®ç»“æ„è®¾è®¡

```text
æ•°æ®ç»“æ„è®¾è®¡è§„èŒƒï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸å¯å˜æ€§ (Immutability)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ•°æ®å¯¹è±¡ä¸å¯å˜                    â”‚
â”‚ - ä½¿ç”¨åªè¯»æ¥å£                      â”‚
â”‚ - æä¾›æ„å»ºå™¨æ¨¡å¼                    â”‚
â”‚ - ç¡®ä¿çº¿ç¨‹å®‰å…¨                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç±»å‹å®‰å…¨ (Type Safety)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å¼ºç±»å‹å®šä¹‰                        â”‚
â”‚ - ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥                    â”‚
â”‚ - é¿å…ç±»å‹è½¬æ¢                      â”‚
â”‚ - ä½¿ç”¨æ³›å‹çº¦æŸ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éªŒè¯æ€§ (Validation)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ•°æ®éªŒè¯è§„åˆ™                      â”‚
â”‚ - çº¦æŸæ¡ä»¶æ£€æŸ¥                      â”‚
â”‚ - é”™è¯¯å¤„ç†æœºåˆ¶                      â”‚
â”‚ - æ•°æ®å®Œæ•´æ€§ä¿è¯                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ€§èƒ½æœ€ä½³å®è·µ

#### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

```text
æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å†…å­˜ä¼˜åŒ–                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å¯¹è±¡æ± æ¨¡å¼                        â”‚
â”‚ - å†…å­˜æ˜ å°„æ–‡ä»¶                      â”‚
â”‚ - æ•°æ®å‹ç¼©                          â”‚
â”‚ - æ‡’åŠ è½½                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¡ç®—ä¼˜åŒ–                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ç®—æ³•ä¼˜åŒ–                          â”‚
â”‚ - å¹¶è¡Œè®¡ç®—                          â”‚
â”‚ - ç¼“å­˜ç­–ç•¥                          â”‚
â”‚ - é¢„è®¡ç®—                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç½‘ç»œä¼˜åŒ–                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - è¿æ¥å¤ç”¨                          â”‚
â”‚ - æ‰¹é‡ä¼ è¾“                          â”‚
â”‚ - æ•°æ®å‹ç¼©                          â”‚
â”‚ - å¼‚æ­¥å¤„ç†                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. å®‰å…¨æœ€ä½³å®è·µ

#### å®‰å…¨è®¾è®¡åŸåˆ™

```text
å®‰å…¨è®¾è®¡åŸåˆ™ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®å®‰å…¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ•°æ®åŠ å¯†                          â”‚
â”‚ - è®¿é—®æ§åˆ¶                          â”‚
â”‚ - æ•°æ®è„±æ•                          â”‚
â”‚ - å®¡è®¡æ—¥å¿—                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¼ è¾“å®‰å…¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - TLSåŠ å¯†                           â”‚
â”‚ - è¯ä¹¦éªŒè¯                          â”‚
â”‚ - èº«ä»½è®¤è¯                          â”‚
â”‚ - æˆæƒæ§åˆ¶                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å­˜å‚¨å®‰å…¨                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ•°æ®åŠ å¯†å­˜å‚¨                      â”‚
â”‚ - è®¿é—®æƒé™æ§åˆ¶                      â”‚
â”‚ - æ•°æ®å¤‡ä»½                          â”‚
â”‚ - ç¾éš¾æ¢å¤                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æµ‹è¯•æœ€ä½³å®è·µ

#### æµ‹è¯•ç­–ç•¥

```text
æµ‹è¯•ç­–ç•¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•å…ƒæµ‹è¯•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å‡½æ•°çº§åˆ«æµ‹è¯•                      â”‚
â”‚ - è¾¹ç•Œæ¡ä»¶æµ‹è¯•                      â”‚
â”‚ - å¼‚å¸¸æƒ…å†µæµ‹è¯•                      â”‚
â”‚ - æ¨¡æ‹Ÿä¾èµ–æµ‹è¯•                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é›†æˆæµ‹è¯•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - æ¨¡å—é—´é›†æˆæµ‹è¯•                    â”‚
â”‚ - æ¥å£é›†æˆæµ‹è¯•                      â”‚
â”‚ - æ•°æ®æµé›†æˆæµ‹è¯•                    â”‚
â”‚ - ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ€§èƒ½æµ‹è¯•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - è´Ÿè½½æµ‹è¯•                          â”‚
â”‚ - å‹åŠ›æµ‹è¯•                          â”‚
â”‚ - æ€§èƒ½åŸºå‡†æµ‹è¯•                      â”‚
â”‚ - å†…å­˜æ³„æ¼æµ‹è¯•                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š æ€»ç»“

OTLPç¼–ç¨‹æƒ¯ç”¨æ³•ä¸è®¾è®¡è§„èŒƒæä¾›äº†ä»¥ä¸‹å…³é”®æŒ‡å¯¼ï¼š

1. **ç¼–ç¨‹æƒ¯ç”¨æ³•**: å»ºç«‹äº†æ ‡å‡†åŒ–çš„ç¼–ç¨‹æ¨¡å¼å’Œæœ€ä½³å®è·µ
2. **è®¾è®¡æ¨¡å¼**: æä¾›äº†åˆ›å»ºå‹ã€ç»“æ„å‹ã€è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼åº”ç”¨
3. **è®¾è®¡è§„èŒƒ**: åˆ¶å®šäº†æ¶æ„è®¾è®¡ã€æ¥å£è®¾è®¡ã€æ•°æ®è®¾è®¡è§„èŒƒ
4. **æœ€ä½³å®è·µ**: æä¾›äº†æ€§èƒ½ã€å®‰å…¨ã€æµ‹è¯•çš„æœ€ä½³å®è·µ
5. **ä»£ç è´¨é‡**: ç¡®ä¿äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå¯æµ‹è¯•æ€§

é€šè¿‡ç³»ç»Ÿæ€§çš„ç¼–ç¨‹è§„èŒƒåˆ¶å®šï¼Œä¸ºOTLPç³»ç»Ÿçš„å¼€å‘æä¾›äº†æ ‡å‡†åŒ–çš„æŒ‡å¯¼åŸåˆ™å’Œå®è·µæ–¹æ³•ã€‚

---

**æ–‡æ¡£åˆ›å»ºå®Œæˆæ—¶é—´**: 2025å¹´10æœˆ6æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**ç»´æŠ¤è€…**: OTLP ç³»ç»Ÿåˆ†æå›¢é˜Ÿ  
**çŠ¶æ€**: ç¼–ç¨‹è§„èŒƒåˆ¶å®šå®Œæˆ
