# Week 1 行动计划 (2025-10-10 至 2025-10-17)

**创建时间**: 2025-10-10  
**状态**: 进行中  
**里程碑**: 可运行示例

---

## 🎯 Week 1 目标

### 核心目标

1. **创建可运行代码示例** (P0)
   - ✅ examples/go/hello_trace.go
   - ✅ examples/python/hello_trace.py
   - ✅ docker-compose.yml (Collector + Jaeger)

2. **精简项目概览** (P0)
   - 当前: 55个文档
   - 目标: 10个核心文档
   - 减少: 82%

3. **建立中断恢复机制** (P1)
   - ✅ 检查点系统
   - ✅ 迁移日志
   - 状态报告工具

### 量化指标

```yaml
代码:
  当前: 0个示例
  目标: 3个可运行示例
  
文档:
  项目概览: 55个 → 10个
  
机制:
  检查点系统: ✅ 完成
  迁移日志: ✅ 完成
  状态报告: 待开发
```

---

## 📅 详细日程

### Day 1 (周五, 2025-10-10) ✅ 已完成

**任务**:

- [x] 阅读评价报告和改进计划 (1小时)
- [x] 创建检查点目录结构 (10分钟)
- [x] 在README.md置顶说明 (10分钟)
- [x] 规划Week 1详细任务 (30分钟)

**成果**:

- ✅ 检查点目录: `doc/ZZ_重构/checkpoints/`
- ✅ 状态报告目录: `doc/ZZ_重构/status/`
- ✅ 里程碑目录: `doc/里程碑/`
- ✅ 月度报告目录: `doc/月度报告/`
- ✅ 检查点模板: `checkpoint_template.md`
- ✅ 首个检查点: `2025-W41.md`
- ✅ 迁移日志: `迁移日志.md`
- ✅ README.md 重要通知
- ✅ 本行动计划文档

**用时**: 约2小时

---

### Day 2-3 (周六-周日, 2025-10-11/12)

**任务**: 创建Go和Python示例

#### Go示例

**文件**: `examples/go/hello_trace.go`

**需求**:

```go
package main

import (
    "context"
    "log"
    
    "go.opentelemetry.io/otel"
    "go.opentelemetry.io/otel/attribute"
    "go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc"
    sdktrace "go.opentelemetry.io/otel/sdk/trace"
    "go.opentelemetry.io/otel/sdk/resource"
    semconv "go.opentelemetry.io/otel/semconv/v1.27.0"
)

func main() {
    ctx := context.Background()
    
    // 创建OTLP导出器
    exporter, _ := otlptracegrpc.New(ctx,
        otlptracegrpc.WithEndpoint("localhost:4317"),
        otlptracegrpc.WithInsecure(),
    )
    
    // 创建TracerProvider
    tp := sdktrace.NewTracerProvider(
        sdktrace.WithBatcher(exporter),
        sdktrace.WithResource(resource.NewWithAttributes(
            semconv.SchemaURL,
            semconv.ServiceName("hello-trace-go"),
        )),
    )
    defer tp.Shutdown(ctx)
    
    otel.SetTracerProvider(tp)
    
    // 创建Span
    tracer := tp.Tracer("hello-trace")
    _, span := tracer.Start(ctx, "hello")
    span.SetAttributes(attribute.String("greeting", "Hello OTLP!"))
    span.End()
    
    log.Println("Trace发送成功！")
}
```

**配套文件**:

- `examples/go/go.mod`
- `examples/go/go.sum`
- `examples/go/README.md`

#### Python示例

**文件**: `examples/python/hello_trace.py`

**需求**:

```python
from opentelemetry import trace
from opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter
from opentelemetry.sdk.trace import TracerProvider
from opentelemetry.sdk.trace.export import BatchSpanProcessor
from opentelemetry.sdk.resources import SERVICE_NAME, Resource

# 创建Resource
resource = Resource(attributes={
    SERVICE_NAME: "hello-trace-python"
})

# 创建TracerProvider
provider = TracerProvider(resource=resource)
processor = BatchSpanProcessor(OTLPSpanExporter(
    endpoint="localhost:4317",
    insecure=True
))
provider.add_span_processor(processor)

trace.set_tracer_provider(provider)

# 创建Span
tracer = trace.get_tracer(__name__)
with tracer.start_as_current_span("hello") as span:
    span.set_attribute("greeting", "Hello OTLP!")

provider.shutdown()
print("Trace发送成功！")
```

**配套文件**:

- `examples/python/requirements.txt`
- `examples/python/README.md`

#### Docker Compose

**文件**: `docker-compose.yml`

```yaml
version: '3.8'
services:
  otel-collector:
    image: otel/opentelemetry-collector:0.111.0
    command: ["--config=/etc/otel-config.yaml"]
    volumes:
      - ./otel-config.yaml:/etc/otel-config.yaml
    ports:
      - "4317:4317"  # OTLP gRPC
      - "4318:4318"  # OTLP HTTP
  
  jaeger:
    image: jaegertracing/all-in-one:1.61
    ports:
      - "16686:16686"  # Jaeger UI
```

**文件**: `otel-config.yaml`

```yaml
receivers:
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318

exporters:
  jaeger:
    endpoint: jaeger:14250
    tls:
      insecure: true

service:
  pipelines:
    traces:
      receivers: [otlp]
      exporters: [jaeger]
```

**配套文件**:

- `README.md` (项目根目录更新)
- `examples/README.md`

#### 测试步骤

```bash
# 1. 启动服务
docker-compose up -d

# 2. 运行Go示例
cd examples/go
go mod init hello-trace && go mod tidy
go run hello_trace.go

# 3. 运行Python示例
cd ../python
pip install -r requirements.txt
python hello_trace.py

# 4. 查看Jaeger UI
open http://localhost:16686
```

**预计用时**: Day 2-3 共12小时

---

### Day 4-5 (周一-周二, 2025-10-14/15)

**任务**: 精简项目概览目录

#### 分析阶段 (Day 4上午)

1. **统计当前55个文档**
   - 分类：总结、报告、确认、完成、计划等
   - 识别独特内容
   - 制作合并映射表

2. **确定保留的10个核心文档**
   - 最新批判性评价报告_2025_10_10
   - Q4_2025_执行总结报告
   - 项目全面梳理报告_2025
   - 项目最终交付与确认_2025
   - OTLP项目全面批判性评价与改进计划_2025_10_08
   - 项目状态监控报告
   - 里程碑追踪
   - FAQ文档
   - 导航索引
   - CHANGELOG

#### 合并阶段 (Day 4下午 + Day 5)

**步骤**:

1. **备份**

   ```bash
   cp -r doc/10_项目概览与里程碑 doc/Z9_历史与归档/10_项目概览与里程碑_backup_20251014
   ```

2. **保留核心文档**

   ```bash
   cd doc/10_项目概览与里程碑/
   mkdir _temp_keep
   # 移动核心文档到临时目录
   mv 批判性评价-执行摘要_2025_10_10.md _temp_keep/
   mv Q4_2025_执行总结报告.md _temp_keep/
   # ... 其他核心文档
   ```

3. **删除其他文档**

   ```bash
   rm -rf 00_项目概览/*
   rm -rf 00_项目概览与导航/*
   ```

4. **恢复核心文档**

   ```bash
   mv _temp_keep/* ./
   rmdir _temp_keep
   ```

5. **更新链接**
   - 全局搜索指向旧文档的链接
   - 更新到新文档
   - 运行断链检查

6. **验证**

   ```bash
   # 断链检查（需要创建工具）
   # ../工具/check_links.sh
   
   # Git提交
   git add .
   git commit -m "精简项目概览目录: 55个→10个"
   ```

**预计用时**: Day 4-5 共8小时

---

### Day 6-7 (周三-周四, 2025-10-16/17)

**任务**: 完成Week 1总结

#### Day 6 任务

1. **完成Week 1检查点** (1小时)
   - 更新 `2025-W41.md`
   - 填写完整统计数据
   - 记录经验教训

2. **创建里程碑文档** (1小时)
   - 文件: `doc/里程碑/2025-W41_可运行示例.md`
   - 内容: 目标回顾、实际完成、数据对比

3. **打Git标签** (10分钟)

   ```bash
   git tag -a v0.1.0-phase1-milestone1 -m "Week 1: 可运行示例完成"
   git push origin v0.1.0-phase1-milestone1
   ```

#### Day 7 任务

1. **总结Week 1** (1小时)
   - 回顾完成情况
   - 识别问题和风险
   - 调整Week 2计划

2. **规划Week 2** (1小时)
   - 创建 `2025-W42.md` 检查点（初始）
   - 制定详细任务清单
   - 分配时间

**预计用时**: Day 6-7 共4小时

---

## 🎯 Week 1 成功标准

### 必须完成（P0）

- [x] 创建检查点系统 ✅
- [ ] Go示例可运行 ⏳
- [ ] Python示例可运行 ⏳
- [ ] docker-compose可运行 ⏳
- [ ] 项目概览精简到10个 ⏳

### 应该完成（P1）

- [x] 迁移日志建立 ✅
- [x] README.md通知 ✅
- [ ] 状态报告工具脚本 ⏳
- [ ] Week 1里程碑文档 ⏳

### 可以完成（P2）

- [ ] 断链检查工具
- [ ] 重复检测工具
- [ ] examples/README.md

---

## 📈 进度追踪

### 完成度

```text
Day 1: █████████░ 90% ✅
Day 2-3: ░░░░░░░░░░ 0% (代码示例)
Day 4-5: ░░░░░░░░░░ 0% (精简概览)
Day 6-7: ░░░░░░░░░░ 0% (总结)

总体: ██░░░░░░░░ 20%
```

### 时间分配

```text
已用: 2小时 (Day 1)
剩余: 30小时 (Day 2-7)
总计: 32小时
```

---

## 🔗 相关文档

- [批判性评价-执行摘要](批判性评价-执行摘要_2025_10_10.md)
- [可持续改进与中断恢复计划](可持续改进与中断恢复计划_2025_10_10.md)
- [Week 41检查点](ZZ_重构/checkpoints/2025-W41.md)
- [迁移日志](ZZ_重构/迁移日志.md)

---

**最后更新**: 2025-10-10 18:07  
**下次更新**: 2025-10-17 (Week 1完成时)
