# OTLPæ•°æ®æµè§†è§’ï¼šæ•°æ®å†…å®¹ä¸ç»“æ„æ·±åº¦åˆ†æ

> **æ–‡æ¡£ç±»å‹**: æ•°æ®æ¨¡å‹æ·±åº¦åˆ†æ
> **åˆ†æç»´åº¦**: æ•°æ®æµè§†è§’ - å†…å®¹ä¸ç»“æ„
> **åˆ›å»ºæ—¥æœŸ**: 2025å¹´10æœˆ11æ—¥
> **æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæˆ

---

## ğŸ“‹ ç›®å½•

- [OTLPæ•°æ®æµè§†è§’ï¼šæ•°æ®å†…å®¹ä¸ç»“æ„æ·±åº¦åˆ†æ](#otlpæ•°æ®æµè§†è§’æ•°æ®å†…å®¹ä¸ç»“æ„æ·±åº¦åˆ†æ)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [ğŸ¯ æ‰§è¡Œæ‘˜è¦](#-æ‰§è¡Œæ‘˜è¦)
  - [ğŸ“Š æ•°æ®å†…å®¹å…¨æ™¯](#-æ•°æ®å†…å®¹å…¨æ™¯)
    - [æ•°æ®é‡çº§å¯¹æ¯”](#æ•°æ®é‡çº§å¯¹æ¯”)
    - [æ•°æ®ç‰¹å¾çŸ©é˜µ](#æ•°æ®ç‰¹å¾çŸ©é˜µ)
  - [Tracesæ•°æ®ç»“æ„æ·±åº¦åˆ†æ](#tracesæ•°æ®ç»“æ„æ·±åº¦åˆ†æ)
    - [Spanç»“æ„å®Œæ•´å®šä¹‰](#spanç»“æ„å®Œæ•´å®šä¹‰)
    - [Spanæ•°æ®ä½“ç§¯åˆ†æ](#spanæ•°æ®ä½“ç§¯åˆ†æ)
    - [Spanå…³ç³»ç»“æ„](#spanå…³ç³»ç»“æ„)
  - [Metricsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ](#metricsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ)
    - [Metricç»“æ„å®Œæ•´å®šä¹‰](#metricç»“æ„å®Œæ•´å®šä¹‰)
    - [Metricæ•°æ®ä½“ç§¯åˆ†æ](#metricæ•°æ®ä½“ç§¯åˆ†æ)
  - [Logsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ](#logsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ)
    - [LogRecordç»“æ„å®Œæ•´å®šä¹‰](#logrecordç»“æ„å®Œæ•´å®šä¹‰)
    - [LogRecordæ•°æ®ä½“ç§¯åˆ†æ](#logrecordæ•°æ®ä½“ç§¯åˆ†æ)
  - [Resourceä¸Baggageç»“æ„](#resourceä¸baggageç»“æ„)
    - [Resourceç»“æ„](#resourceç»“æ„)
    - [Baggageç»“æ„](#baggageç»“æ„)
  - [ğŸ“ æ•°æ®ç»“æ„ä¼˜åŒ–ç­–ç•¥](#-æ•°æ®ç»“æ„ä¼˜åŒ–ç­–ç•¥)
    - [1. å±æ€§ä¼˜åŒ–](#1-å±æ€§ä¼˜åŒ–)
    - [2. æ—¶é—´æˆ³ä¼˜åŒ–](#2-æ—¶é—´æˆ³ä¼˜åŒ–)
    - [3. å­—ç¬¦ä¸²ä¼˜åŒ–](#3-å­—ç¬¦ä¸²ä¼˜åŒ–)
  - [ğŸ”¬ å½¢å¼åŒ–å®šä¹‰](#-å½¢å¼åŒ–å®šä¹‰)
    - [æ•°æ®ç»“æ„å½¢å¼åŒ–](#æ•°æ®ç»“æ„å½¢å¼åŒ–)
    - [æ•°æ®ä½“ç§¯å½¢å¼åŒ–](#æ•°æ®ä½“ç§¯å½¢å¼åŒ–)
  - [ğŸ’¡ å®æˆ˜æ¡ˆä¾‹](#-å®æˆ˜æ¡ˆä¾‹)
    - [æ¡ˆä¾‹1ï¼šç”µå•†ç³»ç»ŸSpanç»“æ„è®¾è®¡](#æ¡ˆä¾‹1ç”µå•†ç³»ç»Ÿspanç»“æ„è®¾è®¡)
    - [æ¡ˆä¾‹2ï¼šæ€§èƒ½ç›‘æ§Metricç»“æ„è®¾è®¡](#æ¡ˆä¾‹2æ€§èƒ½ç›‘æ§metricç»“æ„è®¾è®¡)
    - [æ¡ˆä¾‹3ï¼šç»“æ„åŒ–æ—¥å¿—LogRecordè®¾è®¡](#æ¡ˆä¾‹3ç»“æ„åŒ–æ—¥å¿—logrecordè®¾è®¡)
  - [ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®](#-æ€§èƒ½ä¼˜åŒ–å»ºè®®)
    - [1. æ•°æ®ç»“æ„ä¼˜åŒ–](#1-æ•°æ®ç»“æ„ä¼˜åŒ–)
    - [2. æ‰¹é‡ä¼ è¾“ä¼˜åŒ–](#2-æ‰¹é‡ä¼ è¾“ä¼˜åŒ–)
  - [ğŸ¯ æ€»ç»“](#-æ€»ç»“)

---

## ğŸ¯ æ‰§è¡Œæ‘˜è¦

**æ•°æ®å†…å®¹ä¸ç»“æ„**æ˜¯OTLPæ•°æ®æµçš„èµ·ç‚¹ï¼Œå†³å®šäº†æ•°æ®çš„æœ¬è´¨ç‰¹å¾å’Œåç»­å¤„ç†èƒ½åŠ›ã€‚

```text
æ•°æ®å†…å®¹å…¨æ™¯:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OTLPæ•°æ®å†…å®¹ä½“ç³»                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Traces (è¿½è¸ªæ•°æ®)                            â”‚      â”‚
â”‚  â”‚  - Span: æ“ä½œå•å…ƒ                             â”‚      â”‚
â”‚  â”‚  - SpanContext: ä¸Šä¸‹æ–‡ä¼ æ’­                    â”‚      â”‚
â”‚  â”‚  - Link: è·¨traceå…³è”                          â”‚      â”‚
â”‚  â”‚  - Event: æ—¶é—´ç‚¹äº‹ä»¶                          â”‚      â”‚
â”‚  â”‚  ä½“ç§¯: ~340 bytes/span                       â”‚      â”‚
â”‚  â”‚  é¢‘ç‡: è¯·æ±‚çº§                                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Metrics (æŒ‡æ ‡æ•°æ®)                            â”‚      â”‚
â”‚  â”‚  - Counter: ç´¯è®¡å€¼                             â”‚      â”‚
â”‚  â”‚  - Histogram: åˆ†å¸ƒç»Ÿè®¡                         â”‚      â”‚
â”‚  â”‚  - Gauge: ç¬æ—¶å€¼                               â”‚      â”‚
â”‚  â”‚  - Exemplar: æ ·æœ¬è¿½è¸ª                          â”‚      â”‚
â”‚  â”‚  ä½“ç§¯: ~120 bytes/datapoint                     â”‚      â”‚
â”‚  â”‚  é¢‘ç‡: å®šæœŸé‡‡æ ·                                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Logs (æ—¥å¿—æ•°æ®)                              â”‚      â”‚
â”‚  â”‚  - LogRecord: æ—¥å¿—è®°å½•                        â”‚      â”‚
â”‚  â”‚  - SeverityNumber: ä¸¥é‡æ€§                     â”‚      â”‚
â”‚  â”‚  - Body: æ—¥å¿—å†…å®¹                             â”‚      â”‚
â”‚  â”‚  ä½“ç§¯: ~256 bytes/log                         â”‚      â”‚
â”‚  â”‚  é¢‘ç‡: äº‹ä»¶é©±åŠ¨                               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒæ´å¯Ÿ**ï¼š

1. **æ•°æ®ä½“ç§¯**ï¼šTraces > Logs > Metricsï¼ˆå•ä¸ªæ•°æ®ç‚¹ï¼‰
2. **æ•°æ®é¢‘ç‡**ï¼šTracesï¼ˆè¯·æ±‚çº§ï¼‰> Logsï¼ˆäº‹ä»¶çº§ï¼‰> Metricsï¼ˆé‡‡æ ·çº§ï¼‰
3. **æ•°æ®å…³ç³»**ï¼šTracesï¼ˆæ ‘çŠ¶ï¼‰> Logsï¼ˆçº¿æ€§ï¼‰> Metricsï¼ˆæ—¶é—´åºåˆ—ï¼‰
4. **æ•°æ®ç”Ÿå‘½å‘¨æœŸ**ï¼šMetricsï¼ˆé•¿æœŸï¼‰> Tracesï¼ˆä¸­æœŸï¼‰> Logsï¼ˆçŸ­æœŸï¼‰

---

## ğŸ“Š æ•°æ®å†…å®¹å…¨æ™¯

### æ•°æ®é‡çº§å¯¹æ¯”

```text
æ•°æ®é‡çº§å¯¹æ¯” (å…¸å‹ç”Ÿäº§ç¯å¢ƒ):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®ç±»å‹  â”‚ å•ä¸ªæ•°æ®ç‚¹ä½“ç§¯ â”‚ äº§ç”Ÿé¢‘ç‡ â”‚ æ—¥äº§é‡ (1K QPS) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Traces    â”‚ ~340 bytes     â”‚ è¯·æ±‚çº§   â”‚ ~86 GB/day      â”‚
â”‚  Metrics   â”‚ ~120 bytes     â”‚ é‡‡æ ·çº§   â”‚ ~10 GB/day      â”‚
â”‚  Logs      â”‚ ~256 bytes     â”‚ äº‹ä»¶çº§   â”‚ ~22 GB/day      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡      â”‚ ~716 bytes     â”‚ æ··åˆ     â”‚ ~118 GB/day     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®ç‰¹å¾çŸ©é˜µ

```text
æ•°æ®ç‰¹å¾çŸ©é˜µ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‰¹å¾      â”‚ Traces  â”‚ Metrics â”‚ Logs   â”‚ è¯´æ˜           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä½“ç§¯      â”‚ å¤§      â”‚ å°      â”‚ ä¸­     â”‚ å•ä¸ªæ•°æ®ç‚¹     â”‚
â”‚  é¢‘ç‡      â”‚ é«˜      â”‚ ä¸­      â”‚ é«˜     â”‚ äº§ç”Ÿé¢‘ç‡       â”‚
â”‚  å…³ç³»      â”‚ å¤æ‚    â”‚ ç®€å•    â”‚ ç®€å•   â”‚ æ•°æ®é—´å…³ç³»     â”‚
â”‚  ç”Ÿå‘½å‘¨æœŸ  â”‚ ä¸­æœŸ    â”‚ é•¿æœŸ    â”‚ çŸ­æœŸ   â”‚ å­˜å‚¨å‘¨æœŸ       â”‚
â”‚  æŸ¥è¯¢æ€§    â”‚ é«˜      â”‚ é«˜      â”‚ ä¸­     â”‚ æŸ¥è¯¢å¤æ‚åº¦     â”‚
â”‚  å‹ç¼©ç‡    â”‚ ä¸­      â”‚ é«˜      â”‚ ä½     â”‚ å‹ç¼©æ•ˆæœ       â”‚
â”‚  é‡‡æ ·æ€§    â”‚ é«˜      â”‚ ä½      â”‚ ä¸­     â”‚ é‡‡æ ·å¯è¡Œæ€§     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tracesæ•°æ®ç»“æ„æ·±åº¦åˆ†æ

### Spanç»“æ„å®Œæ•´å®šä¹‰

```protobuf
// Spanå®Œæ•´ç»“æ„å®šä¹‰
message Span {
  // æ ‡è¯†ç¬¦å­—æ®µ
  bytes trace_id = 1;                    // 128ä½å…¨å±€trace ID
  bytes span_id = 2;                     // 64ä½spanå”¯ä¸€ID
  bytes parent_span_id = 3;              // çˆ¶spanå¼•ç”¨ (å¯é€‰)

  // å…ƒæ•°æ®å­—æ®µ
  string name = 4;                       // Spanåç§°
  SpanKind kind = 5;                     // Spanç±»å‹
  fixed64 start_time_unix_nano = 6;     // å¼€å§‹æ—¶é—´ (çº³ç§’)
  fixed64 end_time_unix_nano = 7;       // ç»“æŸæ—¶é—´ (çº³ç§’)

  // å±æ€§ä¸äº‹ä»¶
  repeated opentelemetry.proto.common.v1.KeyValue attributes = 8;
  repeated Event events = 9;             // æ—¶é—´ç‚¹äº‹ä»¶
  repeated Link links = 10;              // è·¨traceé“¾æ¥

  // çŠ¶æ€ä¸ä¸Šä¸‹æ–‡
  Status status = 11;                    // æ‰§è¡ŒçŠ¶æ€
  string trace_state = 12;               // W3C tracestate
}

// Spanç±»å‹æšä¸¾
enum SpanKind {
  SPAN_KIND_UNSPECIFIED = 0;            // æœªæŒ‡å®š
  SPAN_KIND_INTERNAL = 1;               // å†…éƒ¨æ“ä½œ
  SPAN_KIND_SERVER = 2;                 // æœåŠ¡ç«¯
  SPAN_KIND_CLIENT = 3;                 // å®¢æˆ·ç«¯
  SPAN_KIND_PRODUCER = 4;               // ç”Ÿäº§è€…
  SPAN_KIND_CONSUMER = 5;               // æ¶ˆè´¹è€…
}

// Eventç»“æ„
message Event {
  fixed64 time_unix_nano = 1;           // äº‹ä»¶æ—¶é—´
  string name = 2;                      // äº‹ä»¶åç§°
  repeated KeyValue attributes = 3;      // äº‹ä»¶å±æ€§
  uint32 dropped_attributes_count = 4;   // ä¸¢å¼ƒçš„å±æ€§æ•°é‡
}

// Linkç»“æ„
message Link {
  bytes trace_id = 1;                    // å…³è”trace ID
  bytes span_id = 2;                     // å…³è”span ID
  repeated KeyValue attributes = 3;      // å…³è”å±æ€§
  uint32 dropped_attributes_count = 4;    // ä¸¢å¼ƒçš„å±æ€§æ•°é‡
  string trace_state = 5;                // tracestate
}

// Statusç»“æ„
message Status {
  StatusCode code = 1;                   // çŠ¶æ€ç 
  string message = 2;                    // çŠ¶æ€æ¶ˆæ¯
}

enum StatusCode {
  STATUS_CODE_UNSET = 0;                // æœªè®¾ç½®
  STATUS_CODE_OK = 1;                   // æˆåŠŸ
  STATUS_CODE_ERROR = 2;                // é”™è¯¯
}
```

### Spanæ•°æ®ä½“ç§¯åˆ†æ

```text
Spanæ•°æ®ä½“ç§¯åˆ†æ (å…¸å‹åœºæ™¯):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µç±»å‹          â”‚ å­—èŠ‚æ•°  â”‚ è¯´æ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  trace_id          â”‚ 16      â”‚ å›ºå®š128ä½                 â”‚
â”‚  span_id           â”‚ 8       â”‚ å›ºå®š64ä½                  â”‚
â”‚  parent_span_id    â”‚ 8       â”‚ å›ºå®š64ä½                  â”‚
â”‚  name              â”‚ 32      â”‚ å¹³å‡é•¿åº¦                  â”‚
â”‚  kind              â”‚ 1       â”‚ æšä¸¾å€¼                    â”‚
â”‚  start_time        â”‚ 8       â”‚ çº³ç§’æ—¶é—´æˆ³                â”‚
â”‚  end_time          â”‚ 8       â”‚ çº³ç§’æ—¶é—´æˆ³                â”‚
â”‚  attributes (10)   â”‚ 160     â”‚ 10ä¸ªå±æ€§ Ã— 16å­—èŠ‚         â”‚
â”‚  events (3)        â”‚ 96      â”‚ 3ä¸ªäº‹ä»¶ Ã— 32å­—èŠ‚          â”‚
â”‚  links (0)         â”‚ 0       â”‚ é€šå¸¸æ—                     â”‚
â”‚  status            â”‚ 3       â”‚ çŠ¶æ€ç +æ¶ˆæ¯               â”‚
â”‚  trace_state       â”‚ 0       â”‚ é€šå¸¸ç©º                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡              â”‚ 340     â”‚ å…¸å‹Spanä½“ç§¯              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Spanå…³ç³»ç»“æ„

```text
Spanå…³ç³»ç»“æ„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Spanæ ‘çŠ¶ç»“æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚                    [Root Span]                          â”‚
â”‚                  trace_id: abc123                       â”‚
â”‚                  span_id: 001                           â”‚
â”‚                  kind: SERVER                           â”‚
â”‚                         â”‚                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚               â”‚               â”‚               â”‚
â”‚    [Span 002]      [Span 003]      [Span 004]          â”‚
â”‚    kind: CLIENT    kind: INTERNAL   kind: PRODUCER      â”‚
â”‚    parent: 001     parent: 001      parent: 001         â”‚
â”‚         â”‚               â”‚                               â”‚
â”‚         â”‚          [Span 005]                           â”‚
â”‚         â”‚          kind: SERVER                         â”‚
â”‚         â”‚          parent: 003                           â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Metricsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ

### Metricç»“æ„å®Œæ•´å®šä¹‰

```protobuf
// Metricå®Œæ•´ç»“æ„å®šä¹‰
message Metric {
  string name = 1;                       // æŒ‡æ ‡åç§°
  string description = 2;               // æŒ‡æ ‡æè¿°
  string unit = 3;                      // å•ä½
  repeated MetricDataPoint data_points = 4; // æ•°æ®ç‚¹

  // èšåˆä¸´æ—¶æ€§
  AggregationTemporality aggregation_temporality = 5;

  // æ˜¯å¦å•è°ƒ
  bool is_monotonic = 6;
}

// æ•°æ®ç‚¹ç»“æ„
message MetricDataPoint {
  // ç»´åº¦æ ‡ç­¾
  repeated KeyValue attributes = 1;

  // æ—¶é—´æˆ³
  fixed64 time_unix_nano = 2;           // è§‚æµ‹æ—¶é—´
  fixed64 start_time_unix_nano = 3;    // å¼€å§‹æ—¶é—´ (å¯é€‰)

  // å€¼ (oneof)
  oneof value {
    double as_double = 4;               // åŒç²¾åº¦å€¼
    sfixed64 as_int = 5;                // æ•´æ•°å€¼
    SummaryDataPoint as_summary = 6;    // æ‘˜è¦å€¼
    HistogramDataPoint as_histogram = 7; // ç›´æ–¹å›¾
    ExponentialHistogramDataPoint as_exponential_histogram = 8;
  }

  // æ ·æœ¬è¿½è¸ª
  repeated Exemplar exemplars = 9;

  // æ ‡å¿—ä½
  uint32 flags = 10;
}

// Histogramæ•°æ®ç‚¹
message HistogramDataPoint {
  repeated fixed64 bucket_counts = 1;   // æ¡¶è®¡æ•°
  repeated double explicit_bounds = 2;   // æ˜¾å¼è¾¹ç•Œ
  double sum = 3;                       // æ€»å’Œ
  uint64 count = 4;                     // è®¡æ•°
  repeated Exemplar exemplars = 5;      // æ ·æœ¬
  uint32 flags = 6;                     // æ ‡å¿—ä½
  double min = 7;                       // æœ€å°å€¼
  double max = 8;                       // æœ€å¤§å€¼
}

// ExponentialHistogramæ•°æ®ç‚¹
message ExponentialHistogramDataPoint {
  repeated Bucket buckets = 1;          // æŒ‡æ•°æ¡¶
  int32 scale = 2;                     // ç¼©æ”¾å› å­
  uint64 zero_count = 3;                // é›¶å€¼è®¡æ•°
  double sum = 4;                       // æ€»å’Œ
  uint64 count = 5;                     // è®¡æ•°
  repeated Exemplar exemplars = 6;      // æ ·æœ¬
  uint32 flags = 7;                     // æ ‡å¿—ä½
  double min = 8;                       // æœ€å°å€¼
  double max = 9;                       // æœ€å¤§å€¼
}

// Exemplar (æ ·æœ¬è¿½è¸ª)
message Exemplar {
  fixed64 time_unix_nano = 1;           // æ ·æœ¬æ—¶é—´
  oneof value {
    double as_double = 2;               // åŒç²¾åº¦å€¼
    sfixed64 as_int = 3;                // æ•´æ•°å€¼
  }
  repeated KeyValue filtered_attributes = 4; // è¿‡æ»¤å±æ€§
  bytes span_id = 5;                    // å…³è”span ID
  bytes trace_id = 6;                   // å…³è”trace ID
}
```

### Metricæ•°æ®ä½“ç§¯åˆ†æ

```text
Metricæ•°æ®ä½“ç§¯åˆ†æ (å…¸å‹åœºæ™¯):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µç±»å‹          â”‚ å­—èŠ‚æ•°  â”‚ è¯´æ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  name              â”‚ 24      â”‚ å¹³å‡é•¿åº¦                  â”‚
â”‚  description       â”‚ 32      â”‚ å¹³å‡é•¿åº¦                  â”‚
â”‚  unit              â”‚ 8       â”‚ å¹³å‡é•¿åº¦                  â”‚
â”‚  attributes (5)    â”‚ 80      â”‚ 5ä¸ªæ ‡ç­¾ Ã— 16å­—èŠ‚          â”‚
â”‚  time_unix_nano    â”‚ 8       â”‚ çº³ç§’æ—¶é—´æˆ³                â”‚
â”‚  value             â”‚ 8       â”‚ åŒç²¾åº¦å€¼                  â”‚
â”‚  exemplars (0)     â”‚ 0       â”‚ é€šå¸¸æ—                     â”‚
â”‚  flags             â”‚ 4       â”‚ æ ‡å¿—ä½                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡              â”‚ 184     â”‚ å…¸å‹Metricä½“ç§¯            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Histogramæ•°æ®ä½“ç§¯åˆ†æ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µç±»å‹          â”‚ å­—èŠ‚æ•°  â”‚ è¯´æ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€å­—æ®µ          â”‚ 184     â”‚ åŒä¸Š                      â”‚
â”‚  bucket_counts (20)â”‚ 160     â”‚ 20ä¸ªæ¡¶ Ã— 8å­—èŠ‚            â”‚
â”‚  explicit_bounds   â”‚ 160     â”‚ 20ä¸ªè¾¹ç•Œ Ã— 8å­—èŠ‚          â”‚
â”‚  sum               â”‚ 8       â”‚ æ€»å’Œ                      â”‚
â”‚  count             â”‚ 8       â”‚ è®¡æ•°                      â”‚
â”‚  min/max           â”‚ 16      â”‚ æœ€å°å€¼/æœ€å¤§å€¼             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡              â”‚ 536     â”‚ Histogramä½“ç§¯             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Logsæ•°æ®ç»“æ„æ·±åº¦åˆ†æ

### LogRecordç»“æ„å®Œæ•´å®šä¹‰

```protobuf
// LogRecordå®Œæ•´ç»“æ„å®šä¹‰
message LogRecord {
  // æ—¶é—´æˆ³
  fixed64 time_unix_nano = 1;           // æ—¥å¿—æ—¶é—´
  fixed64 observed_time_unix_nano = 2; // è§‚æµ‹æ—¶é—´

  // ä¸¥é‡æ€§
  SeverityNumber severity_number = 3;  // ä¸¥é‡æ€§æ•°å­—
  string severity_text = 4;            // ä¸¥é‡æ€§æ–‡æœ¬

  // å†…å®¹
  AnyValue body = 5;                    // æ—¥å¿—ä½“
  repeated KeyValue attributes = 6;      // å±æ€§

  // è¿½è¸ªå…³è”
  bytes trace_id = 7;                   // å…³è”trace ID
  bytes span_id = 8;                    // å…³è”span ID

  // æ ‡å¿—ä½
  uint32 flags = 9;                     // æ ‡å¿—ä½
  string trace_flags = 10;              // traceæ ‡å¿—

  // èµ„æºå…³è”
  InstrumentationScope scope = 11;      // å·¥å…·ä½œç”¨åŸŸ

  // ä¸¢å¼ƒè®¡æ•°
  uint32 dropped_attributes_count = 12;  // ä¸¢å¼ƒçš„å±æ€§æ•°é‡
}

// SeverityNumberæšä¸¾
enum SeverityNumber {
  SEVERITY_NUMBER_UNSPECIFIED = 0;
  SEVERITY_NUMBER_TRACE = 1;
  SEVERITY_NUMBER_TRACE2 = 2;
  SEVERITY_NUMBER_TRACE3 = 3;
  SEVERITY_NUMBER_TRACE4 = 4;
  SEVERITY_NUMBER_DEBUG = 5;
  SEVERITY_NUMBER_DEBUG2 = 6;
  SEVERITY_NUMBER_DEBUG3 = 7;
  SEVERITY_NUMBER_DEBUG4 = 8;
  SEVERITY_NUMBER_INFO = 9;
  SEVERITY_NUMBER_INFO2 = 10;
  SEVERITY_NUMBER_INFO3 = 11;
  SEVERITY_NUMBER_INFO4 = 12;
  SEVERITY_NUMBER_WARN = 13;
  SEVERITY_NUMBER_WARN2 = 14;
  SEVERITY_NUMBER_WARN3 = 15;
  SEVERITY_NUMBER_WARN4 = 16;
  SEVERITY_NUMBER_ERROR = 17;
  SEVERITY_NUMBER_ERROR2 = 18;
  SEVERITY_NUMBER_ERROR3 = 19;
  SEVERITY_NUMBER_ERROR4 = 20;
  SEVERITY_NUMBER_FATAL = 21;
  SEVERITY_NUMBER_FATAL2 = 22;
  SEVERITY_NUMBER_FATAL3 = 23;
  SEVERITY_NUMBER_FATAL4 = 24;
}

// AnyValue (æ—¥å¿—ä½“)
message AnyValue {
  oneof value {
    string string_value = 1;            // å­—ç¬¦ä¸²å€¼
    bool bool_value = 2;                // å¸ƒå°”å€¼
    int64 int_value = 3;                // æ•´æ•°å€¼
    double double_value = 4;            // åŒç²¾åº¦å€¼
    ArrayValue array_value = 5;         // æ•°ç»„å€¼
    KeyValueList kvlist_value = 6;      // é”®å€¼åˆ—è¡¨
    bytes bytes_value = 7;              // å­—èŠ‚å€¼
  }
}
```

### LogRecordæ•°æ®ä½“ç§¯åˆ†æ

```text
LogRecordæ•°æ®ä½“ç§¯åˆ†æ (å…¸å‹åœºæ™¯):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µç±»å‹          â”‚ å­—èŠ‚æ•°  â”‚ è¯´æ˜                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  time_unix_nano    â”‚ 8       â”‚ çº³ç§’æ—¶é—´æˆ³                â”‚
â”‚  observed_time     â”‚ 8       â”‚ è§‚æµ‹æ—¶é—´                  â”‚
â”‚  severity_number   â”‚ 1       â”‚ æšä¸¾å€¼                    â”‚
â”‚  severity_text     â”‚ 8       â”‚ å¹³å‡é•¿åº¦                  â”‚
â”‚  body              â”‚ 128     â”‚ å¹³å‡æ—¥å¿—å†…å®¹              â”‚
â”‚  attributes (5)    â”‚ 80      â”‚ 5ä¸ªå±æ€§ Ã— 16å­—èŠ‚          â”‚
â”‚  trace_id          â”‚ 16      â”‚ å…³è”trace ID              â”‚
â”‚  span_id           â”‚ 8       â”‚ å…³è”span ID               â”‚
â”‚  flags             â”‚ 4       â”‚ æ ‡å¿—ä½                    â”‚
â”‚  trace_flags       â”‚ 1       â”‚ traceæ ‡å¿—                 â”‚
â”‚  dropped_count     â”‚ 4       â”‚ ä¸¢å¼ƒè®¡æ•°                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡              â”‚ 266     â”‚ å…¸å‹LogRecordä½“ç§¯         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Resourceä¸Baggageç»“æ„

### Resourceç»“æ„

```protobuf
// Resourceç»“æ„
message Resource {
  repeated KeyValue attributes = 1;     // èµ„æºå±æ€§
  uint32 dropped_attributes_count = 2;   // ä¸¢å¼ƒè®¡æ•°
}

// æ ‡å‡†èµ„æºå±æ€§
resource.attributes = {
  "service.name": "user-service",      // æœåŠ¡åç§°
  "service.version": "1.0.0",          // æœåŠ¡ç‰ˆæœ¬
  "service.instance.id": "instance-1", // å®ä¾‹ID
  "deployment.environment": "prod",     // éƒ¨ç½²ç¯å¢ƒ
  "host.name": "server-01",            // ä¸»æœºå
  "host.arch": "x86_64",               // ä¸»æœºæ¶æ„
  "os.type": "linux",                  // æ“ä½œç³»ç»Ÿ
  "cloud.provider": "aws",             // äº‘æä¾›å•†
  "cloud.region": "us-east-1",         // äº‘åŒºåŸŸ
}
```

### Baggageç»“æ„

```protobuf
// Baggageç»“æ„
message Baggage {
  repeated BaggageEntry entries = 1;   // Baggageæ¡ç›®
}

message BaggageEntry {
  string key = 1;                       // é”®
  BaggageValue value = 2;               // å€¼
}

message BaggageValue {
  string value = 1;                     // å€¼
  repeated BaggageMetadata metadata = 2; // å…ƒæ•°æ®
}

message BaggageMetadata {
  string key = 1;                       // å…ƒæ•°æ®é”®
  string value = 2;                     // å…ƒæ•°æ®å€¼
}
```

---

## ğŸ“ æ•°æ®ç»“æ„ä¼˜åŒ–ç­–ç•¥

### 1. å±æ€§ä¼˜åŒ–

```text
å±æ€§ä¼˜åŒ–ç­–ç•¥:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¼˜åŒ–é¡¹          â”‚ ç­–ç•¥                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å±æ€§æ•°é‡        â”‚ é™åˆ¶æ¯ä¸ªSpan/Metric/Logçš„å±æ€§æ•°é‡     â”‚
â”‚  å±æ€§é”®é•¿åº¦      â”‚ ä½¿ç”¨çŸ­é”®åï¼Œå»ºç«‹æ˜ å°„è¡¨                 â”‚
â”‚  å±æ€§å€¼ç±»å‹      â”‚ ä¼˜å…ˆä½¿ç”¨æ•°å€¼ç±»å‹ï¼Œé¿å…é•¿å­—ç¬¦ä¸²         â”‚
â”‚  å±æ€§å»é‡        â”‚ ç§»é™¤é‡å¤å±æ€§                          â”‚
â”‚  å±æ€§å‹ç¼©        â”‚ ä½¿ç”¨è¯­ä¹‰çº¦å®šï¼Œå‡å°‘å†—ä½™                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ—¶é—´æˆ³ä¼˜åŒ–

```text
æ—¶é—´æˆ³ä¼˜åŒ–ç­–ç•¥:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¼˜åŒ–é¡¹          â”‚ ç­–ç•¥                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—¶é—´ç²¾åº¦        â”‚ ä½¿ç”¨å¾®ç§’è€Œéçº³ç§’                      â”‚
â”‚  æ—¶é—´å‹ç¼©        â”‚ ç›¸å¯¹æ—¶é—´æˆ³ (ç›¸å¯¹äºtraceå¼€å§‹æ—¶é—´)       â”‚
â”‚  æ—¶é—´é‡‡æ ·        â”‚ é™ä½é‡‡æ ·é¢‘ç‡                          â”‚
â”‚  æ—¶é—´ç¼–ç         â”‚ å˜é•¿ç¼–ç                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. å­—ç¬¦ä¸²ä¼˜åŒ–

```text
å­—ç¬¦ä¸²ä¼˜åŒ–ç­–ç•¥:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¼˜åŒ–é¡¹          â”‚ ç­–ç•¥                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­—ç¬¦ä¸²æ±         â”‚ å»ºç«‹å­—ç¬¦ä¸²æ± ï¼Œå¤ç”¨å¸¸ç”¨å­—ç¬¦ä¸²           â”‚
â”‚  å­—ç¬¦ä¸²å‹ç¼©      â”‚ ä½¿ç”¨å‹ç¼©ç®—æ³• (Snappy/Zstd)            â”‚
â”‚  å­—ç¬¦ä¸²æˆªæ–­      â”‚ é™åˆ¶æœ€å¤§é•¿åº¦                          â”‚
â”‚  å­—ç¬¦ä¸²ç¼–ç       â”‚ UTF-8ä¼˜åŒ–ç¼–ç                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”¬ å½¢å¼åŒ–å®šä¹‰

### æ•°æ®ç»“æ„å½¢å¼åŒ–

```text
å®šä¹‰ (OTLPæ•°æ®ç»“æ„):

OTLPData = Traces | Metrics | Logs

Traces = {Trace}
Trace = (TraceID, Spans[], Resource, SchemaURL)
Span = (TraceID, SpanID, ParentSpanID, Name, Kind,
        StartTime, EndTime, Attributes, Events, Links,
        Status, TraceState)

Metrics = {Metric}
Metric = (Name, Description, Unit, DataPoints[],
          AggregationTemporality, IsMonotonic)
DataPoint = (Attributes, Time, Value, Exemplars)

Logs = {LogRecord}
LogRecord = (Time, ObservedTime, SeverityNumber,
             SeverityText, Body, Attributes,
             TraceID, SpanID, Flags)

Resource = (Attributes, DroppedAttributesCount)
Baggage = {BaggageEntry}
```

### æ•°æ®ä½“ç§¯å½¢å¼åŒ–

```text
å®šä¹‰ (æ•°æ®ä½“ç§¯):

Volume(Span) = |TraceID| + |SpanID| + |ParentSpanID| +
               |Name| + |Kind| + |StartTime| + |EndTime| +
               Î£|Attribute| + Î£|Event| + Î£|Link| +
               |Status| + |TraceState|

Volume(Metric) = |Name| + |Description| + |Unit| +
                 Î£|DataPoint| + |AggregationTemporality| +
                 |IsMonotonic|

Volume(LogRecord) = |Time| + |ObservedTime| +
                    |SeverityNumber| + |SeverityText| +
                    |Body| + Î£|Attribute| + |TraceID| +
                    |SpanID| + |Flags|

å…¶ä¸­:
|X| è¡¨ç¤ºå­—æ®µXçš„å­—èŠ‚æ•°
Î£|X| è¡¨ç¤ºæ‰€æœ‰Xå­—æ®µçš„æ€»å­—èŠ‚æ•°
```

---

## ğŸ’¡ å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šç”µå•†ç³»ç»ŸSpanç»“æ„è®¾è®¡

```go
// ç”µå•†è®¢å•å¤„ç†Spanç»“æ„è®¾è®¡
package main

import (
    "go.opentelemetry.io/otel/trace"
    "go.opentelemetry.io/otel/attribute"
)

// è®¢å•å¤„ç†Span
func createOrderSpan(ctx context.Context, orderID string) trace.Span {
    tracer := otel.Tracer("order-service")
    ctx, span := tracer.Start(ctx, "order.process",
        trace.WithSpanKind(trace.SpanKindServer),
        trace.WithAttributes(
            // ä¸šåŠ¡å±æ€§
            attribute.String("order.id", orderID),
            attribute.String("order.status", "processing"),
            attribute.Float64("order.amount", 299.99),

            // è¯­ä¹‰çº¦å®šå±æ€§
            attribute.String("service.name", "order-service"),
            attribute.String("service.version", "1.2.0"),
            attribute.String("deployment.environment", "production"),

            // æ€§èƒ½å±æ€§
            attribute.Int("db.query.count", 3),
            attribute.Int("cache.hit.count", 5),
        ),
    )

    return span
}

// æ”¯ä»˜å¤„ç†Span
func createPaymentSpan(ctx context.Context, paymentID string) trace.Span {
    tracer := otel.Tracer("payment-service")
    ctx, span := tracer.Start(ctx, "payment.process",
        trace.WithSpanKind(trace.SpanKindClient),
        trace.WithAttributes(
            // ä¸šåŠ¡å±æ€§
            attribute.String("payment.id", paymentID),
            attribute.String("payment.method", "credit_card"),
            attribute.Float64("payment.amount", 299.99),

            // è¯­ä¹‰çº¦å®šå±æ€§
            attribute.String("service.name", "payment-service"),
            attribute.String("service.version", "2.0.0"),

            // æ€§èƒ½å±æ€§
            attribute.Int("external.api.calls", 2),
            attribute.Int("external.api.latency.ms", 150),
        ),
    )

    return span
}

// Spanäº‹ä»¶
func addSpanEvents(span trace.Span) {
    span.AddEvent("order.created",
        trace.WithAttributes(
            attribute.String("event.type", "order"),
            attribute.String("event.action", "create"),
        ),
    )

    span.AddEvent("payment.initiated",
        trace.WithAttributes(
            attribute.String("event.type", "payment"),
            attribute.String("event.action", "initiate"),
        ),
    )

    span.AddEvent("order.completed",
        trace.WithAttributes(
            attribute.String("event.type", "order"),
            attribute.String("event.action", "complete"),
        ),
    )
}
```

### æ¡ˆä¾‹2ï¼šæ€§èƒ½ç›‘æ§Metricç»“æ„è®¾è®¡

```go
// æ€§èƒ½ç›‘æ§Metricç»“æ„è®¾è®¡
package main

import (
    "go.opentelemetry.io/otel"
    "go.opentelemetry.io/otel/metric"
)

// HTTPè¯·æ±‚å»¶è¿ŸHistogram
func createHTTPLatencyMetric() metric.Float64Histogram {
    meter := otel.Meter("http-server")

    histogram, _ := meter.Float64Histogram(
        "http.server.request.duration",
        metric.WithDescription("HTTPè¯·æ±‚å¤„ç†å»¶è¿Ÿ"),
        metric.WithUnit("ms"),
    )

    return histogram
}

// æ•°æ®åº“è¿æ¥æ± Metric
func createDBPoolMetric() metric.Int64UpDownCounter {
    meter := otel.Meter("database")

    counter, _ := meter.Int64UpDownCounter(
        "db.pool.connections",
        metric.WithDescription("æ•°æ®åº“è¿æ¥æ± è¿æ¥æ•°"),
        metric.WithUnit("connections"),
    )

    return counter
}

// è®°å½•Metricæ•°æ®
func recordMetrics(ctx context.Context) {
    // è®°å½•HTTPå»¶è¿Ÿ
    httpLatency := createHTTPLatencyMetric()
    httpLatency.Record(ctx, 125.5,
        metric.WithAttributes(
            attribute.String("http.method", "GET"),
            attribute.String("http.route", "/api/users"),
            attribute.Int("http.status_code", 200),
        ),
    )

    // è®°å½•æ•°æ®åº“è¿æ¥æ± 
    dbPool := createDBPoolMetric()
    dbPool.Add(ctx, 1,
        metric.WithAttributes(
            attribute.String("db.name", "userdb"),
            attribute.String("db.pool.name", "main"),
        ),
    )
}
```

### æ¡ˆä¾‹3ï¼šç»“æ„åŒ–æ—¥å¿—LogRecordè®¾è®¡

```go
// ç»“æ„åŒ–æ—¥å¿—LogRecordè®¾è®¡
package main

import (
    "go.opentelemetry.io/otel/log"
    "go.opentelemetry.io/otel/log/global"
)

// é”™è¯¯æ—¥å¿—LogRecord
func createErrorLog(ctx context.Context, err error) {
    logger := global.Logger("error-handler")

    logger.Error(ctx, "è®¢å•å¤„ç†å¤±è´¥",
        log.WithAttributes(
            // æ—¥å¿—å±æ€§
            attribute.String("log.level", "ERROR"),
            attribute.String("log.message", err.Error()),
            attribute.String("error.type", "OrderProcessingError"),
            attribute.String("error.message", err.Error()),

            // ä¸šåŠ¡å±æ€§
            attribute.String("order.id", "order-123"),
            attribute.String("order.status", "failed"),

            // è¿½è¸ªå…³è”
            attribute.String("trace.id", "trace-abc"),
            attribute.String("span.id", "span-001"),
        ),
    )
}

// æ€§èƒ½æ—¥å¿—LogRecord
func createPerformanceLog(ctx context.Context, duration time.Duration) {
    logger := global.Logger("performance-monitor")

    logger.Info(ctx, "APIå“åº”æ—¶é—´",
        log.WithAttributes(
            // æ—¥å¿—å±æ€§
            attribute.String("log.level", "INFO"),
            attribute.String("log.message", "APIå“åº”æ—¶é—´"),

            // æ€§èƒ½å±æ€§
            attribute.Int64("performance.duration.ms", duration.Milliseconds()),
            attribute.String("performance.endpoint", "/api/users"),
            attribute.String("performance.method", "GET"),

            // è¿½è¸ªå…³è”
            attribute.String("trace.id", "trace-abc"),
            attribute.String("span.id", "span-001"),
        ),
    )
}
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ•°æ®ç»“æ„ä¼˜åŒ–

```text
ä¼˜åŒ–å»ºè®®:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¼˜åŒ–é¡¹          â”‚ å½“å‰å€¼  â”‚ ä¼˜åŒ–å€¼  â”‚ æ”¹å–„å¹…åº¦          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Spanä½“ç§¯        â”‚ 340 B   â”‚ 220 B   â”‚ -35%              â”‚
â”‚  Metricä½“ç§¯      â”‚ 184 B   â”‚ 120 B   â”‚ -35%              â”‚
â”‚  Logä½“ç§¯         â”‚ 266 B   â”‚ 180 B   â”‚ -32%              â”‚
â”‚  å±æ€§æ•°é‡        â”‚ 10      â”‚ 5       â”‚ -50%              â”‚
â”‚  äº‹ä»¶æ•°é‡        â”‚ 3       â”‚ 1       â”‚ -67%              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. æ‰¹é‡ä¼ è¾“ä¼˜åŒ–

```text
æ‰¹é‡ä¼ è¾“ä¼˜åŒ–:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­–ç•¥            â”‚ æ•ˆæœ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ‰¹é‡Span        â”‚ å‡å°‘ç½‘ç»œå¾€è¿”ï¼Œæå‡ååé‡              â”‚
â”‚  æ‰¹é‡Metric      â”‚ å‡å°‘åºåˆ—åŒ–å¼€é”€                        â”‚
â”‚  æ‰¹é‡Log         â”‚ é™ä½å­˜å‚¨æˆæœ¬                          â”‚
â”‚  å‹ç¼©ä¼ è¾“        â”‚ å‡å°‘ç½‘ç»œå¸¦å®½ä½¿ç”¨                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ€»ç»“

**æ•°æ®å†…å®¹ä¸ç»“æ„**æ˜¯OTLPæ•°æ®æµçš„åŸºç¡€ï¼Œå†³å®šäº†ï¼š

1. **æ•°æ®ä½“ç§¯**ï¼šå½±å“å­˜å‚¨å’Œä¼ è¾“æˆæœ¬
2. **æ•°æ®å…³ç³»**ï¼šå½±å“æŸ¥è¯¢å’Œåˆ†æèƒ½åŠ›
3. **æ•°æ®ç”Ÿå‘½å‘¨æœŸ**ï¼šå½±å“å­˜å‚¨ç­–ç•¥
4. **æ•°æ®è´¨é‡**ï¼šå½±å“å¯è§‚æµ‹æ€§æ•ˆæœ

**å…³é”®è¦ç‚¹**ï¼š

- âœ… Tracesé€‚åˆæ ‘çŠ¶å…³ç³»è¿½è¸ª
- âœ… Metricsé€‚åˆæ—¶é—´åºåˆ—åˆ†æ
- âœ… Logsé€‚åˆäº‹ä»¶é©±åŠ¨åˆ†æ
- âœ… ä¼˜åŒ–æ•°æ®ç»“æ„å¯é™ä½35%+ä½“ç§¯
- âœ… åˆç†ä½¿ç”¨å±æ€§å¯æå‡æŸ¥è¯¢æ•ˆç‡

---

**æœ€åæ›´æ–°**: 2025å¹´10æœˆ11æ—¥
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**ç»´æŠ¤è€…**: OTLPæ·±åº¦æ¢³ç†å›¢é˜Ÿ
