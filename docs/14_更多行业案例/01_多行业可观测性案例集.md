# å¤šè¡Œä¸šå¯è§‚æµ‹æ€§æ¡ˆä¾‹é›†

> **æ ‡å‡†ç‰ˆæœ¬**: v1.27.0
> **çŠ¶æ€**: Stable
> **æœ€åæ›´æ–°**: 2025å¹´10æœˆ8æ—¥

---

## ğŸ“‹ ç›®å½•

- [å¤šè¡Œä¸šå¯è§‚æµ‹æ€§æ¡ˆä¾‹é›†](#å¤šè¡Œä¸šå¯è§‚æµ‹æ€§æ¡ˆä¾‹é›†)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. åŒ»ç–—è¡Œä¸š](#2-åŒ»ç–—è¡Œä¸š)
    - [2.1 åŒ»é™¢ä¿¡æ¯ç³»ç»Ÿï¼ˆHISï¼‰](#21-åŒ»é™¢ä¿¡æ¯ç³»ç»Ÿhis)
    - [2.2 è¿œç¨‹åŒ»ç–—å¹³å°](#22-è¿œç¨‹åŒ»ç–—å¹³å°)
    - [2.3 åŒ»ç–—è®¾å¤‡ç›‘æ§](#23-åŒ»ç–—è®¾å¤‡ç›‘æ§)
  - [3. æ¸¸æˆè¡Œä¸š](#3-æ¸¸æˆè¡Œä¸š)
    - [3.1 åœ¨çº¿æ¸¸æˆæœåŠ¡å™¨](#31-åœ¨çº¿æ¸¸æˆæœåŠ¡å™¨)
    - [3.2 ç©å®¶è¡Œä¸ºè¿½è¸ª](#32-ç©å®¶è¡Œä¸ºè¿½è¸ª)
    - [3.3 æ¸¸æˆèµ„äº§æœåŠ¡](#33-æ¸¸æˆèµ„äº§æœåŠ¡)
  - [4. èƒ½æºè¡Œä¸š](#4-èƒ½æºè¡Œä¸š)
    - [4.1 æ™ºèƒ½ç”µç½‘ç›‘æ§](#41-æ™ºèƒ½ç”µç½‘ç›‘æ§)
    - [4.2 é£ç”µåœºæ•°æ®é‡‡é›†](#42-é£ç”µåœºæ•°æ®é‡‡é›†)
    - [4.3 èƒ½æºç®¡ç†ç³»ç»Ÿ](#43-èƒ½æºç®¡ç†ç³»ç»Ÿ)
  - [5. é›¶å”®è¡Œä¸š](#5-é›¶å”®è¡Œä¸š)
    - [5.1 æ–°é›¶å”®POSç³»ç»Ÿ](#51-æ–°é›¶å”®posç³»ç»Ÿ)
    - [5.2 ä¾›åº”é“¾è¿½è¸ª](#52-ä¾›åº”é“¾è¿½è¸ª)
    - [5.3 å®¢æˆ·ä½“éªŒç›‘æ§](#53-å®¢æˆ·ä½“éªŒç›‘æ§)
  - [6. æ•™è‚²è¡Œä¸š](#6-æ•™è‚²è¡Œä¸š)
    - [6.1 åœ¨çº¿æ•™è‚²å¹³å°](#61-åœ¨çº¿æ•™è‚²å¹³å°)
    - [6.2 å­¦ä¹ è¡Œä¸ºåˆ†æ](#62-å­¦ä¹ è¡Œä¸ºåˆ†æ)
  - [7. äº¤é€šè¿è¾“](#7-äº¤é€šè¿è¾“)
    - [7.1 æ™ºæ…§äº¤é€šç³»ç»Ÿ](#71-æ™ºæ…§äº¤é€šç³»ç»Ÿ)
    - [7.2 ç‰©æµè¿½è¸ªå¹³å°](#72-ç‰©æµè¿½è¸ªå¹³å°)
  - [8. åª’ä½“å¨±ä¹](#8-åª’ä½“å¨±ä¹)
    - [8.1 æµåª’ä½“æœåŠ¡](#81-æµåª’ä½“æœåŠ¡)
    - [8.2 å†…å®¹æ¨èç³»ç»Ÿ](#82-å†…å®¹æ¨èç³»ç»Ÿ)
  - [9. å‚è€ƒèµ„æº](#9-å‚è€ƒèµ„æº)

---

## 1. æ¦‚è¿°

æœ¬æ–‡æ¡£æ±‡æ€»äº†ä¸åŒè¡Œä¸šé¢†åŸŸä¸­OpenTelemetryå¯è§‚æµ‹æ€§çš„å®è·µæ¡ˆä¾‹ï¼Œæ¶µç›–åŒ»ç–—ã€æ¸¸æˆã€èƒ½æºã€é›¶å”®ã€æ•™è‚²ã€äº¤é€šå’Œåª’ä½“ç­‰å¤šä¸ªè¡Œä¸šã€‚

**å…±åŒç›®æ ‡**ï¼š

```text
âœ… æå‡ç³»ç»Ÿå¯é æ€§
âœ… ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
âœ… é™ä½è¿ç»´æˆæœ¬
âœ… æ»¡è¶³åˆè§„è¦æ±‚
âœ… æ”¯æŒä¸šåŠ¡å†³ç­–
```

---

## 2. åŒ»ç–—è¡Œä¸š

### 2.1 åŒ»é™¢ä¿¡æ¯ç³»ç»Ÿï¼ˆHISï¼‰

**åœºæ™¯æè¿°**ï¼š
åŒ»é™¢ä¿¡æ¯ç³»ç»Ÿéœ€è¦è¿½è¸ªæ‚£è€…å°±è¯Šæµç¨‹ã€è¯å“é…å‘ã€æ£€æŸ¥æ£€éªŒç­‰å…³é”®ä¸šåŠ¡æµç¨‹ï¼Œç¡®ä¿åŒ»ç–—æ•°æ®çš„å‡†ç¡®æ€§å’ŒåŠæ—¶æ€§ã€‚

**å…³é”®ç›‘æ§ç‚¹**ï¼š

```text
- æ‚£è€…æ³¨å†Œä¸ç™»è®°
- åŒ»ç”Ÿè¯Šæ–­æµç¨‹
- è¯å“å¤„æ–¹å¼€å…·
- æ£€æŸ¥æ£€éªŒé¢„çº¦ä¸ç»“æœ
- åŒ»ç–—æ•°æ®åŒæ­¥
- ç³»ç»Ÿå“åº”æ—¶é—´
```

**å®ç°ç¤ºä¾‹ï¼ˆGoï¼‰**ï¼š

```go
package main

import (
    "context"
    "go.opentelemetry.io/otel"
    "go.opentelemetry.io/otel/attribute"
    "go.opentelemetry.io/otel/trace"
)

type HospitalService struct {
    tracer trace.Tracer
}

func NewHospitalService() *HospitalService {
    return &HospitalService{
        tracer: otel.Tracer("hospital-his"),
    }
}

// æ‚£è€…å°±è¯Šæµç¨‹è¿½è¸ª
func (h *HospitalService) ProcessPatientVisit(ctx context.Context, patientID, doctorID string) error {
    ctx, span := h.tracer.Start(ctx, "patient.visit")
    defer span.End()

    // è„±æ•æ‚£è€…IDï¼ˆHIPAAåˆè§„ï¼‰
    hashedPatientID := hashID(patientID)

    span.SetAttributes(
        attribute.String("patient.id.hashed", hashedPatientID),
        attribute.String("doctor.id", doctorID),
        attribute.String("department", "internal_medicine"),
    )

    // 1. æŒ‚å·
    if err := h.registerVisit(ctx, patientID); err != nil {
        span.RecordError(err)
        return err
    }

    // 2. è¯Šæ–­
    diagnosis, err := h.conductDiagnosis(ctx, patientID, doctorID)
    if err != nil {
        span.RecordError(err)
        return err
    }

    span.SetAttribute("diagnosis.result", diagnosis)

    // 3. å¼€è¯
    if err := h.prescribeMedication(ctx, patientID, diagnosis); err != nil {
        span.RecordError(err)
        return err
    }

    span.AddEvent("visit_completed")
    return nil
}

// åŒ»ç–—æ•°æ®åŒæ­¥è¿½è¸ª
func (h *HospitalService) SyncMedicalRecords(ctx context.Context, recordID string) error {
    ctx, span := h.tracer.Start(ctx, "records.sync")
    defer span.End()

    span.SetAttributes(
        attribute.String("record.id", hashID(recordID)),
        attribute.String("sync.destination", "regional_health_bureau"),
    )

    // è®°å½•åŒæ­¥å¼€å§‹æ—¶é—´
    startTime := time.Now()

    // æ‰§è¡ŒåŒæ­¥
    if err := syncToExternalSystem(recordID); err != nil {
        span.RecordError(err)
        span.SetStatus(codes.Error, "Sync failed")
        return err
    }

    duration := time.Since(startTime)
    span.SetAttribute("sync.duration_ms", duration.Milliseconds())

    return nil
}
```

**åˆè§„æ€§è€ƒè™‘**ï¼š

```text
âœ… HIPAAåˆè§„: æ‚£è€…æ•°æ®è„±æ•
âœ… GDPRåˆè§„: æ•°æ®æœ€å°åŒ–åŸåˆ™
âœ… æ•°æ®ä¿ç•™: 7å¹´åŒ»ç–—è®°å½•ä¿ç•™
âœ… å®¡è®¡è¿½è¸ª: å®Œæ•´çš„æ“ä½œæ—¥å¿—
```

### 2.2 è¿œç¨‹åŒ»ç–—å¹³å°

**Pythonå®ç°ç¤ºä¾‹**ï¼š

```python
from opentelemetry import trace
from opentelemetry.trace import Status, StatusCode

tracer = trace.get_tracer(__name__)

class TelemedicineService:
    def __init__(self):
        self.tracer = tracer

    def start_video_consultation(self, patient_id, doctor_id):
        """å¼€å§‹è§†é¢‘é—®è¯Š"""
        with self.tracer.start_as_current_span("consultation.video_call") as span:
            # è„±æ•å¤„ç†
            span.set_attribute("patient.id.hashed", hash_id(patient_id))
            span.set_attribute("doctor.id", doctor_id)
            span.set_attribute("consultation.type", "video")

            try:
                # å»ºç«‹WebRTCè¿æ¥
                session = self.establish_webrtc_connection(patient_id, doctor_id)
                span.set_attribute("session.id", session.id)

                # ç›‘æ§è§†é¢‘è´¨é‡
                self.monitor_video_quality(span, session)

                span.set_status(Status(StatusCode.OK))
                return session
            except Exception as e:
                span.record_exception(e)
                span.set_status(Status(StatusCode.ERROR, str(e)))
                raise

    def monitor_video_quality(self, span, session):
        """ç›‘æ§è§†é¢‘è´¨é‡æŒ‡æ ‡"""
        quality_metrics = session.get_quality_metrics()

        span.set_attribute("video.bitrate_kbps", quality_metrics['bitrate'])
        span.set_attribute("video.frame_rate", quality_metrics['fps'])
        span.set_attribute("video.latency_ms", quality_metrics['latency'])
        span.set_attribute("video.packet_loss_rate", quality_metrics['packet_loss'])
```

### 2.3 åŒ»ç–—è®¾å¤‡ç›‘æ§

**åŒ»ç–—è®¾å¤‡é¥æµ‹æ•°æ®é‡‡é›†**ï¼š

```python
class MedicalDeviceMonitor:
    def __init__(self):
        self.tracer = trace.get_tracer(__name__)
        self.meter = metrics.get_meter(__name__)
        self.setup_metrics()

    def setup_metrics(self):
        """è®¾ç½®åŒ»ç–—è®¾å¤‡æŒ‡æ ‡"""
        # è®¾å¤‡çŠ¶æ€
        self.device_status = self.meter.create_observable_gauge(
            "medical.device.status",
            callbacks=[self._observe_device_status],
            description="Medical device operational status"
        )

        # è®¾å¤‡å‘Šè­¦
        self.device_alerts = self.meter.create_counter(
            "medical.device.alerts",
            description="Medical device alert count"
        )

    def monitor_ventilator(self, device_id):
        """ç›‘æ§å‘¼å¸æœº"""
        with self.tracer.start_as_current_span("device.ventilator") as span:
            span.set_attribute("device.id", device_id)
            span.set_attribute("device.type", "ventilator")

            # è¯»å–è®¾å¤‡å‚æ•°
            params = self.read_ventilator_params(device_id)

            span.set_attribute("ventilator.tidal_volume", params['tidal_volume'])
            span.set_attribute("ventilator.respiratory_rate", params['respiratory_rate'])
            span.set_attribute("ventilator.oxygen_concentration", params['o2_concentration'])

            # æ£€æŸ¥å‘Šè­¦æ¡ä»¶
            if params['o2_concentration'] < 21:
                span.add_event("low_oxygen_alert", {
                    "severity": "critical",
                    "value": params['o2_concentration']
                })
                self.device_alerts.add(1, {"device_id": device_id, "alert_type": "low_oxygen"})
```

---

## 3. æ¸¸æˆè¡Œä¸š

### 3.1 åœ¨çº¿æ¸¸æˆæœåŠ¡å™¨

**æ¸¸æˆæœåŠ¡å™¨æ€§èƒ½ç›‘æ§**ï¼š

```go
type GameServer struct {
    tracer trace.Tracer
    meter  metric.Meter
}

func (g *GameServer) HandlePlayerAction(ctx context.Context, playerID, action string) error {
    ctx, span := g.tracer.Start(ctx, "game.player_action")
    defer span.End()

    span.SetAttributes(
        attribute.String("player.id", playerID),
        attribute.String("action.type", action),
        attribute.String("server.region", "us-west-1"),
    )

    // è®°å½•ç©å®¶åŠ¨ä½œå¼€å§‹
    startTime := time.Now()

    // æ‰§è¡Œæ¸¸æˆé€»è¾‘
    result, err := g.processGameAction(ctx, playerID, action)
    if err != nil {
        span.RecordError(err)
        return err
    }

    // è®°å½•å“åº”æ—¶é—´
    duration := time.Since(startTime)
    span.SetAttribute("action.duration_ms", duration.Milliseconds())

    // è®°å½•ç»“æœ
    span.SetAttribute("action.result", result.Status)
    span.SetAttribute("action.rewards", result.Rewards)

    return nil
}

// ç›‘æ§æ¸¸æˆæˆ¿é—´
func (g *GameServer) MonitorGameRoom(ctx context.Context, roomID string) {
    ctx, span := g.tracer.Start(ctx, "game.room")
    defer span.End()

    span.SetAttributes(
        attribute.String("room.id", roomID),
        attribute.Int("room.player_count", g.getRoomPlayerCount(roomID)),
        attribute.String("room.map", g.getRoomMap(roomID)),
    )

    // ç›‘æ§æ¸¸æˆæˆ¿é—´æŒ‡æ ‡
    playerCount := g.getRoomPlayerCount(roomID)
    avgLatency := g.getRoomAvgLatency(roomID)

    span.SetAttribute("room.avg_latency_ms", avgLatency)

    // æ£€æµ‹å»¶è¿Ÿå¼‚å¸¸
    if avgLatency > 100 {
        span.AddEvent("high_latency_detected", trace.WithAttributes(
            attribute.String("severity", "warning"),
            attribute.Int64("latency_ms", avgLatency),
        ))
    }
}
```

### 3.2 ç©å®¶è¡Œä¸ºè¿½è¸ª

**ç©å®¶æ—…ç¨‹è¿½è¸ª**ï¼š

```python
class PlayerAnalytics:
    def __init__(self):
        self.tracer = trace.get_tracer(__name__)

    def track_player_session(self, player_id, session_id):
        """è¿½è¸ªç©å®¶æ¸¸æˆä¼šè¯"""
        with self.tracer.start_as_current_span("player.session") as span:
            span.set_attribute("player.id", player_id)
            span.set_attribute("session.id", session_id)

            # è®°å½•ä¼šè¯å¼€å§‹
            session_start = time.time()
            span.add_event("session_started")

            # è¿½è¸ªå…³é”®äº‹ä»¶
            self.track_level_progression(span, player_id)
            self.track_purchases(span, player_id)
            self.track_social_interactions(span, player_id)

            # ä¼šè¯ç»“æŸ
            session_duration = time.time() - session_start
            span.set_attribute("session.duration_seconds", session_duration)
            span.add_event("session_ended")

    def track_purchases(self, parent_span, player_id):
        """è¿½è¸ªç©å®¶å†…è´­"""
        with self.tracer.start_as_current_span("player.purchase", parent_span) as span:
            purchases = get_player_purchases(player_id)

            span.set_attribute("purchases.count", len(purchases))
            span.set_attribute("purchases.total_amount", sum(p.amount for p in purchases))

            for purchase in purchases:
                span.add_event("item_purchased", {
                    "item.id": purchase.item_id,
                    "item.type": purchase.item_type,
                    "amount": purchase.amount,
                    "currency": purchase.currency
                })
```

### 3.3 æ¸¸æˆèµ„äº§æœåŠ¡

**æ¸¸æˆèµ„äº§åŠ è½½è¿½è¸ª**ï¼š

```javascript
const { trace } = require('@opentelemetry/api');

class AssetService {
    constructor() {
        this.tracer = trace.getTracer('game-assets');
    }

    async loadGameAssets(sceneId) {
        const span = this.tracer.startSpan('assets.load_scene');
        span.setAttribute('scene.id', sceneId);

        try {
            const startTime = Date.now();

            // åŠ è½½ä¸åŒç±»å‹èµ„äº§
            const [models, textures, sounds] = await Promise.all([
                this.loadModels(span, sceneId),
                this.loadTextures(span, sceneId),
                this.loadSounds(span, sceneId)
            ]);

            const loadTime = Date.now() - startTime;
            span.setAttribute('assets.load_time_ms', loadTime);
            span.setAttribute('assets.models_count', models.length);
            span.setAttribute('assets.textures_count', textures.length);
            span.setAttribute('assets.sounds_count', sounds.length);

            span.end();
            return { models, textures, sounds };
        } catch (error) {
            span.recordException(error);
            span.setStatus({ code: SpanStatusCode.ERROR });
            span.end();
            throw error;
        }
    }
}
```

---

## 4. èƒ½æºè¡Œä¸š

### 4.1 æ™ºèƒ½ç”µç½‘ç›‘æ§

**ç”µç½‘èŠ‚ç‚¹ç›‘æ§**ï¼š

```go
type SmartGridMonitor struct {
    tracer trace.Tracer
    meter  metric.Meter
}

func (s *SmartGridMonitor) MonitorGridNode(ctx context.Context, nodeID string) {
    ctx, span := s.tracer.Start(ctx, "grid.node")
    defer span.End()

    span.SetAttributes(
        attribute.String("node.id", nodeID),
        attribute.String("node.type", "transformer"),
        attribute.String("node.region", "east-grid"),
    )

    // è¯»å–ç”µç½‘èŠ‚ç‚¹æ•°æ®
    voltage := s.readVoltage(nodeID)
    current := s.readCurrent(nodeID)
    power := voltage * current

    span.SetAttributes(
        attribute.Float64("grid.voltage_v", voltage),
        attribute.Float64("grid.current_a", current),
        attribute.Float64("grid.power_kw", power/1000),
    )

    // æ£€æµ‹å¼‚å¸¸
    if voltage < 220 || voltage > 240 {
        span.AddEvent("voltage_anomaly", trace.WithAttributes(
            attribute.String("severity", "warning"),
            attribute.Float64("voltage", voltage),
        ))
    }

    // è®°å½•è´Ÿè½½æŒ‡æ ‡
    loadPercentage := s.calculateLoadPercentage(power)
    span.SetAttribute("grid.load_percentage", loadPercentage)
}
```

### 4.2 é£ç”µåœºæ•°æ®é‡‡é›†

**é£åŠ›å‘ç”µæœºç»„ç›‘æ§**ï¼š

```python
class WindTurbineMonitor:
    def __init__(self):
        self.tracer = trace.get_tracer(__name__)

    def monitor_turbine(self, turbine_id):
        """ç›‘æ§é£åŠ›å‘ç”µæœºç»„"""
        with self.tracer.start_as_current_span("turbine.monitor") as span:
            span.set_attribute("turbine.id", turbine_id)
            span.set_attribute("turbine.location", self.get_turbine_location(turbine_id))

            # é‡‡é›†è¿è¡Œæ•°æ®
            data = self.collect_turbine_data(turbine_id)

            span.set_attribute("turbine.wind_speed_ms", data['wind_speed'])
            span.set_attribute("turbine.rotor_speed_rpm", data['rotor_speed'])
            span.set_attribute("turbine.power_output_kw", data['power_output'])
            span.set_attribute("turbine.blade_angle_deg", data['blade_angle'])
            span.set_attribute("turbine.generator_temp_c", data['generator_temp'])

            # è®¡ç®—æ•ˆç‡
            efficiency = self.calculate_efficiency(data)
            span.set_attribute("turbine.efficiency_percentage", efficiency)

            # æ£€æµ‹æ•…éšœ
            if data['generator_temp'] > 80:
                span.add_event("high_temperature_alert", {
                    "severity": "critical",
                    "temperature": data['generator_temp']
                })

            # é¢„æµ‹æ€§ç»´æŠ¤
            maintenance_score = self.predict_maintenance_need(data)
            span.set_attribute("turbine.maintenance_score", maintenance_score)
```

### 4.3 èƒ½æºç®¡ç†ç³»ç»Ÿ

**èƒ½æºæ¶ˆè€—è¿½è¸ª**ï¼š

```python
class EnergyManagementSystem:
    def track_energy_consumption(self, building_id):
        """è¿½è¸ªå»ºç­‘èƒ½æºæ¶ˆè€—"""
        with self.tracer.start_as_current_span("energy.building") as span:
            span.set_attribute("building.id", building_id)
            span.set_attribute("building.type", "commercial")

            # é‡‡é›†å„ç±»èƒ½æºæ¶ˆè€—
            electricity = self.get_electricity_consumption(building_id)
            gas = self.get_gas_consumption(building_id)
            water = self.get_water_consumption(building_id)

            span.set_attribute("energy.electricity_kwh", electricity)
            span.set_attribute("energy.gas_m3", gas)
            span.set_attribute("energy.water_m3", water)

            # è®¡ç®—ç¢³æ’æ”¾
            carbon_footprint = self.calculate_carbon_footprint(electricity, gas)
            span.set_attribute("energy.carbon_footprint_kg", carbon_footprint)

            # èƒ½æ•ˆè¯„åˆ†
            efficiency_score = self.calculate_energy_efficiency(building_id)
            span.set_attribute("building.efficiency_score", efficiency_score)
```

---

## 5. é›¶å”®è¡Œä¸š

### 5.1 æ–°é›¶å”®POSç³»ç»Ÿ

**æ”¶é“¶æµç¨‹è¿½è¸ª**ï¼š

```java
public class POSSystem {
    private final Tracer tracer;

    public void processTransaction(String transactionId, List<Item> items) {
        Span span = tracer.spanBuilder("pos.transaction")
            .setAttribute("transaction.id", transactionId)
            .setAttribute("transaction.item_count", items.size())
            .startSpan();

        try (Scope scope = span.makeCurrent()) {
            // 1. æ‰«æå•†å“
            for (Item item : items) {
                scanItem(item);
            }

            // 2. è®¡ç®—æ€»ä»·
            double totalPrice = calculateTotal(items);
            span.setAttribute("transaction.total_amount", totalPrice);

            // 3. å¤„ç†æ”¯ä»˜
            processPayment(transactionId, totalPrice);

            // 4. æ‰“å°å°ç¥¨
            printReceipt(transactionId);

            span.addEvent("transaction_completed");
        } catch (Exception e) {
            span.recordException(e);
            span.setStatus(StatusCode.ERROR, e.getMessage());
            throw e;
        } finally {
            span.end();
        }
    }
}
```

### 5.2 ä¾›åº”é“¾è¿½è¸ª

**å•†å“é…é€è¿½è¸ª**ï¼š

```go
func TrackOrderDelivery(ctx context.Context, orderID string) {
    tracer := otel.Tracer("supply-chain")
    ctx, span := tracer.Start(ctx, "order.delivery")
    defer span.End()

    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("order.status", "in_transit"),
    )

    // è¿½è¸ªé…é€èŠ‚ç‚¹
    deliverySteps := []string{
        "warehouse_picked",
        "sorting_center",
        "distribution_center",
        "last_mile_delivery",
        "delivered"
    }

    for _, step := range deliverySteps {
        span.AddEvent(step, trace.WithTimestamp(time.Now()))

        // æ›´æ–°ä½ç½®
        location := getPackageLocation(orderID)
        span.SetAttribute(fmt.Sprintf("location.%s", step), location)
    }
}
```

### 5.3 å®¢æˆ·ä½“éªŒç›‘æ§

**ç”¨æˆ·è´­ç‰©æ—…ç¨‹è¿½è¸ª**ï¼š

```python
class CustomerJourneyTracker:
    def track_shopping_journey(self, customer_id):
        """è¿½è¸ªå®¢æˆ·è´­ç‰©æ—…ç¨‹"""
        with self.tracer.start_as_current_span("customer.journey") as span:
            span.set_attribute("customer.id", hash_id(customer_id))

            # 1. æµè§ˆå•†å“
            browsed_products = self.track_product_browsing(span, customer_id)
            span.set_attribute("journey.products_viewed", len(browsed_products))

            # 2. åŠ å…¥è´­ç‰©è½¦
            cart_items = self.track_cart_additions(span, customer_id)
            span.set_attribute("journey.cart_items", len(cart_items))

            # 3. ç»“ç®—
            checkout_result = self.track_checkout(span, customer_id)
            span.set_attribute("journey.checkout_completed", checkout_result.success)

            if checkout_result.success:
                span.set_attribute("journey.order_value", checkout_result.order_value)
                span.add_event("purchase_completed")
```

---

## 6. æ•™è‚²è¡Œä¸š

### 6.1 åœ¨çº¿æ•™è‚²å¹³å°

**è¯¾ç¨‹å­¦ä¹ è¿½è¸ª**ï¼š

```javascript
class OnlineLearningPlatform {
    trackCourseProgress(studentId, courseId) {
        const span = this.tracer.startSpan('learning.course_progress');
        span.setAttribute('student.id', hashId(studentId));
        span.setAttribute('course.id', courseId);

        try {
            // è¿½è¸ªå­¦ä¹ æ´»åŠ¨
            const activities = this.getStudentActivities(studentId, courseId);

            span.setAttribute('learning.total_time_minutes', activities.totalTime);
            span.setAttribute('learning.videos_watched', activities.videosWatched);
            span.setAttribute('learning.quizzes_completed', activities.quizzesCompleted);
            span.setAttribute('learning.progress_percentage', activities.progressPercentage);

            // è®°å½•é‡Œç¨‹ç¢‘
            if (activities.progressPercentage >= 50) {
                span.addEvent('milestone_50_percent');
            }

            if (activities.progressPercentage === 100) {
                span.addEvent('course_completed');
            }

            span.end();
        } catch (error) {
            span.recordException(error);
            span.setStatus({ code: SpanStatusCode.ERROR });
            span.end();
        }
    }
}
```

### 6.2 å­¦ä¹ è¡Œä¸ºåˆ†æ

```python
class LearningAnalytics:
    def analyze_engagement(self, student_id, course_id):
        """åˆ†æå­¦ç”Ÿå‚ä¸åº¦"""
        with self.tracer.start_as_current_span("analytics.engagement") as span:
            span.set_attribute("student.id", hash_id(student_id))
            span.set_attribute("course.id", course_id)

            # è®¡ç®—å‚ä¸åº¦æŒ‡æ ‡
            engagement_metrics = self.calculate_engagement(student_id, course_id)

            span.set_attribute("engagement.login_frequency", engagement_metrics['login_frequency'])
            span.set_attribute("engagement.avg_session_duration_min", engagement_metrics['avg_session'])
            span.set_attribute("engagement.discussion_posts", engagement_metrics['discussion_posts'])
            span.set_attribute("engagement.score", engagement_metrics['overall_score'])

            # é¢„è­¦ä½å‚ä¸åº¦
            if engagement_metrics['overall_score'] < 30:
                span.add_event("low_engagement_alert", {
                    "severity": "warning",
                    "score": engagement_metrics['overall_score']
                })
```

---

## 7. äº¤é€šè¿è¾“

### 7.1 æ™ºæ…§äº¤é€šç³»ç»Ÿ

**äº¤é€šæµé‡ç›‘æ§**ï¼š

```go
func MonitorTrafficFlow(ctx context.Context, intersectionID string) {
    tracer := otel.Tracer("smart-traffic")
    ctx, span := tracer.Start(ctx, "traffic.intersection")
    defer span.End()

    span.SetAttributes(
        attribute.String("intersection.id", intersectionID),
        attribute.String("intersection.location", getIntersectionLocation(intersectionID)),
    )

    // ç›‘æ§å„æ–¹å‘è½¦æµé‡
    northFlow := getVehicleCount(intersectionID, "north")
    southFlow := getVehicleCount(intersectionID, "south")
    eastFlow := getVehicleCount(intersectionID, "east")
    westFlow := getVehicleCount(intersectionID, "west")

    span.SetAttributes(
        attribute.Int64("traffic.north_flow", northFlow),
        attribute.Int64("traffic.south_flow", southFlow),
        attribute.Int64("traffic.east_flow", eastFlow),
        attribute.Int64("traffic.west_flow", westFlow),
    )

    // è®¡ç®—æ‹¥å µæŒ‡æ•°
    congestionIndex := calculateCongestion(northFlow, southFlow, eastFlow, westFlow)
    span.SetAttribute("traffic.congestion_index", congestionIndex)

    // ä¼˜åŒ–ä¿¡å·ç¯
    if congestionIndex > 0.8 {
        span.AddEvent("adjust_traffic_lights", trace.WithAttributes(
            attribute.String("action", "extend_green_time"),
        ))
    }
}
```

### 7.2 ç‰©æµè¿½è¸ªå¹³å°

```python
class LogisticsTracker:
    def track_shipment(self, shipment_id):
        """è¿½è¸ªè´§è¿åŒ…è£¹"""
        with self.tracer.start_as_current_span("logistics.shipment") as span:
            span.set_attribute("shipment.id", shipment_id)

            # è·å–å½“å‰çŠ¶æ€
            status = self.get_shipment_status(shipment_id)
            span.set_attribute("shipment.status", status.current_state)
            span.set_attribute("shipment.location", status.current_location)
            span.set_attribute("shipment.carrier", status.carrier)

            # é¢„è®¡é€è¾¾æ—¶é—´
            eta = self.calculate_eta(shipment_id)
            span.set_attribute("shipment.eta", eta.isoformat())

            # å¼‚å¸¸æ£€æµ‹
            if status.is_delayed:
                span.add_event("shipment_delayed", {
                    "delay_reason": status.delay_reason,
                    "delay_hours": status.delay_hours
                })
```

---

## 8. åª’ä½“å¨±ä¹

### 8.1 æµåª’ä½“æœåŠ¡

**è§†é¢‘æ’­æ”¾ç›‘æ§**ï¼š

```javascript
class VideoStreamingService {
    trackVideoPlayback(userId, videoId) {
        const span = this.tracer.startSpan('video.playback');
        span.setAttribute('user.id', hashId(userId));
        span.setAttribute('video.id', videoId);

        try {
            const startTime = Date.now();

            // è¿½è¸ªæ’­æ”¾äº‹ä»¶
            this.trackPlayerEvents(span, userId, videoId);

            // ç›‘æ§æ’­æ”¾è´¨é‡
            const qualityMetrics = this.getQualityMetrics(userId);
            span.setAttribute('video.bitrate_kbps', qualityMetrics.bitrate);
            span.setAttribute('video.resolution', qualityMetrics.resolution);
            span.setAttribute('video.buffer_ratio', qualityMetrics.bufferRatio);
            span.setAttribute('video.startup_time_ms', qualityMetrics.startupTime);

            // æ£€æµ‹å¡é¡¿
            if (qualityMetrics.bufferRatio > 0.05) {
                span.addEvent('buffering_detected', {
                    buffer_ratio: qualityMetrics.bufferRatio
                });
            }

            const playbackDuration = Date.now() - startTime;
            span.setAttribute('video.playback_duration_ms', playbackDuration);

            span.end();
        } catch (error) {
            span.recordException(error);
            span.setStatus({ code: SpanStatusCode.ERROR });
            span.end();
        }
    }
}
```

### 8.2 å†…å®¹æ¨èç³»ç»Ÿ

```python
class RecommendationEngine:
    def generate_recommendations(self, user_id):
        """ç”Ÿæˆä¸ªæ€§åŒ–æ¨è"""
        with self.tracer.start_as_current_span("recommendation.generate") as span:
            span.set_attribute("user.id", hash_id(user_id))

            # è·å–ç”¨æˆ·ç”»åƒ
            user_profile = self.get_user_profile(user_id)
            span.set_attribute("user.segment", user_profile.segment)

            # å€™é€‰å†…å®¹ç”Ÿæˆ
            candidates = self.fetch_candidates(user_profile)
            span.set_attribute("candidates.count", len(candidates))

            # æ’åºä¸è¿‡æ»¤
            ranked_items = self.rank_items(candidates, user_profile)
            span.set_attribute("recommendations.count", len(ranked_items))

            # è®°å½•æ¨èè´¨é‡
            diversity_score = self.calculate_diversity(ranked_items)
            span.set_attribute("recommendations.diversity_score", diversity_score)

            return ranked_items
```

---

## 9. å‚è€ƒèµ„æº

**å®˜æ–¹æ–‡æ¡£**ï¼š

- OpenTelemetry Specification: <https://opentelemetry.io/docs/specs/otel/>
- Semantic Conventions: <https://opentelemetry.io/docs/specs/semconv/>

**è¡Œä¸šæœ€ä½³å®è·µ**ï¼š

- Healthcare: <https://opentelemetry.io/docs/use-cases/healthcare/>
- Gaming: <https://opentelemetry.io/docs/use-cases/gaming/>
- Energy: <https://opentelemetry.io/docs/use-cases/energy/>

---

**æ–‡æ¡£ç»´æŠ¤**: OTLPæ·±åº¦æ¢³ç†é¡¹ç›®ç»„
**æœ€åæ›´æ–°**: 2025å¹´10æœˆ8æ—¥
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**è´¨é‡ç­‰çº§**: â­â­â­â­â­
